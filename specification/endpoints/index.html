
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="BTAA Geospatial API and linked data assets: contexts, profiles, schemas, etc.">
      
      
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../standards/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Endpoints - BTAA Geospatial API &amp; Linked Data</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=helvetica+neue:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"helvetica neue";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#endpoints" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="BTAA Geospatial API &amp;amp; Linked Data" class="md-header__button md-logo" aria-label="BTAA Geospatial API &amp; Linked Data" data-md-component="logo">
      
  <img src="../../images/btaa-logo-white.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BTAA Geospatial API &amp; Linked Data
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Endpoints
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/geobtaa/api" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  API

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../linked-data/" class="md-tabs__link">
          
  
  
  Linked Data

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../tutorial/" class="md-tabs__link">
          
  
  
  Tutorial

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BTAA Geospatial API &amp;amp; Linked Data" class="md-nav__button md-logo" aria-label="BTAA Geospatial API &amp; Linked Data" data-md-component="logo">
      
  <img src="../../images/btaa-logo-white.png" alt="logo">

    </a>
    BTAA Geospatial API &amp; Linked Data
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/geobtaa/api" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BTAA Geospatial API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linked-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linked Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BTAA Geospatial API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Endpoints
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Endpoints
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-swagger-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Swagger Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Endpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-facet-pagination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Facet Pagination
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-autosuggestions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Autosuggestions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Endpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-helper-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Helper Endpoints
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Standards
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metadata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Metadata
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rate_limiting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Rate Limiting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../response_objects/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Response Objects
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Parameters
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../model_context_protocol/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Model Context Protocol
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error_handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Error Handling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Linked Data
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Linked Data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linked-data/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Linked Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linked-data/contexts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contexts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linked-data/profiles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Profiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../linked-data/schemas/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Tutorial
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Tutorial
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/presentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Presentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/examples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Examples
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#api-swagger-documentation" class="md-nav__link">
    <span class="md-ellipsis">
      
        API Swagger Documentation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Endpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-examples" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Examples
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-facet-pagination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Facet Pagination
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-autosuggestions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Search Autosuggestions
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-endpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Endpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#resource-helper-endpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        Resource Helper Endpoints
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="endpoints">Endpoints<a class="headerlink" href="#endpoints" title="Permanent link">&para;</a></h1>
<p><link rel="stylesheet" href="https://pyscript.net/releases/2024.1.1/core.css"></p>
<script type="module" src="https://pyscript.net/releases/2024.1.1/core.js"></script>
<p><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" /></p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>

<p><py-config>
packages = ["requests", "pyodide-http"]
</py-config></p>
<div class="admonition warning">
<p class="admonition-title">DRAFT Specification / Work in Progress</p>
<p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a <strong><em>WORK IN PROGRESS</em></strong>. Please <a href="https://geo.btaa.org/feedback">reach out</a> if you have questions or wish to participate in bringing these resources to public release.</p>
</div>
<h2 id="api-swagger-documentation">API Swagger Documentation<a class="headerlink" href="#api-swagger-documentation" title="Permanent link">&para;</a></h2>
<h3 id="development-server">Development Server<a class="headerlink" href="#development-server" title="Permanent link">&para;</a></h3>
<p><a href="https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/docs">https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/docs</a></p>
<h2 id="search-endpoint">Search Endpoint<a class="headerlink" href="#search-endpoint" title="Permanent link">&para;</a></h2>
<p>Supports both GET (simple) and POST (complex) forms.</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Path</th>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GET or POST</td>
<td style="text-align: left;"><code>/search</code></td>
<td style="text-align: left;">Returns a JSON:API resultset of Resources</td>
</tr>
</tbody>
</table>
<h4 id="interactive-example-simple-search">Interactive Example: Simple Search<a class="headerlink" href="#interactive-example-simple-search" title="Permanent link">&para;</a></h4>
<div class="example-block">

                    <div class="example-header">
                        <h3>Simple Search</h3>
                        <span class="badge">Search</span>
                    </div>
                    <p><strong>Goal:</strong> Find all resources related to "water".</p>
                    <p><strong>Request:</strong> <code>GET /api/v1/search?q=water</code></p>

                    <div class="tabs">
                        <button id="btn-tab-python-1" class="tab-btn active"
                            onclick="openTab(event, 'tab-python-1')">Python</button>
                        <button id="btn-tab-response-1" class="tab-btn" onclick="openTab(event, 'tab-response-1')">API
                            Response</button>
                        <button id="btn-tab-output-1" class="tab-btn"
                            onclick="openTab(event, 'tab-output-1')">Output</button>
                    </div>

                    <div id="tab-python-1" class="tab-content active" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('code-1')">üìã Copy</button>
                        <pre><code id="code-1" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 1: Text search for 'water'
params = {
    'q': 'water',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total number of resources found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
                    </div>

                    <div id="tab-response-1" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('json-1')">üìã Copy</button>
                        <pre><code id="json-1" class="json-area language-json">Click "Run" to see the API response...</code></pre>
                    </div>

                    <div id="tab-output-1" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('output-1')">üìã Copy</button>
                        <div class="output-area" id="output-1">Click "Run" to see the output...</div>
                    </div>

                    <button class="run-btn" id="run-btn-1">‚ñ∂ Run Example</button>

</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_1(event):
    """Example: Simple Search"""
    output_id = "output-1"
    btn_id = "run-btn-1"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(1)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Text search for 'water'...")

        params = {
            'q': 'water',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-1", data)
        mark_tab_complete("btn-tab-response-1")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total number of resources found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-1")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))

# Bind click event
document.getElementById("run-btn-1").onclick = example_1
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>

<h2 id="search-examples">Search Examples<a class="headerlink" href="#search-examples" title="Permanent link">&para;</a></h2>
<details id="example-field-directed" class="example-collapsible">
<summary><strong>Field-Directed Search</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Field-Directed Search</h3>
        <span class="badge">Advanced Search</span>
    </div>
    <p><strong>Goal:</strong> Search for "Transportation" specifically in the Subject field.</p>
    <p><strong>Request:</strong>
        <code>GET /api/v1/search?q=Transportation&search_field=dct_subject_sm</code>
    </p>

    <div class="tabs">
        <button id="btn-tab-python-4" class="tab-btn active"
            onclick="openTab(event, 'tab-python-4')">Python</button>
        <button id="btn-tab-response-4" class="tab-btn" onclick="openTab(event, 'tab-response-4')">API
            Response</button>
        <button id="btn-tab-output-4" class="tab-btn"
            onclick="openTab(event, 'tab-output-4')">Output</button>
    </div>

    <div id="tab-python-4" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-4')">üìã Copy</button>
        <pre><code id="code-4" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 4: Field-directed search
params = {
    'q': 'Transportation',
    'search_field': 'dct_subject_sm',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total number of resources found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-4" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-4')">üìã Copy</button>
        <pre><code id="json-4" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-4" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-4')">üìã Copy</button>
        <div class="output-area" id="output-4">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-4">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_4(event):
    """Example: Field-Directed Search"""
    output_id = "output-4"
    btn_id = "run-btn-4"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(4)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Field-directed search for 'Transportation' in Subject field...")

        params = {
            'q': 'Transportation',
            'search_field': 'dct_subject_sm',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-4", data)
        mark_tab_complete("btn-tab-response-4")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total number of resources found: {data.get('meta', {}).get('totalCount')}")

        html_list = "<ol>"
        for item in data.get('data', []):
            attrs = item['attributes'].get('ogm', {})
            title = attrs.get('dct_title_s', 'N/A')
            subjects = attrs.get('dct_subject_sm', [])
            subject_str = ", ".join(subjects) if isinstance(subjects, list) else str(subjects)
            html_list += f"<li><strong>{title}</strong><br><small>Subjects: {subject_str}</small></li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles and subjects:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-4")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-4").onclick = example_4
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-boolean" class="example-collapsible">
<summary><strong>Boolean Search</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Boolean Search</h3>
        <span class="badge">Advanced Search</span>
    </div>
    <p><strong>Goal:</strong> Search for "(water AND ice) NOT Forest".</p>
    <p><strong>Request:</strong> <code>GET /api/v1/search?q=(water AND ice) NOT Forest</code></p>

    <div class="tabs">
        <button id="btn-tab-python-3" class="tab-btn active"
            onclick="openTab(event, 'tab-python-3')">Python</button>
        <button id="btn-tab-response-3" class="tab-btn" onclick="openTab(event, 'tab-response-3')">API
            Response</button>
        <button id="btn-tab-output-3" class="tab-btn"
            onclick="openTab(event, 'tab-output-3')">Output</button>
    </div>

    <div id="tab-python-3" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-3')">üìã Copy</button>
        <pre><code id="code-3" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 3: Boolean search
params = {
    'q': '(water AND ice) NOT Forest',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total number of resources found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-3" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-3')">üìã Copy</button>
        <pre><code id="json-3" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-3" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-3')">üìã Copy</button>
        <div class="output-area" id="output-3">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-3">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_3(event):
    """Example: Boolean Search"""
    output_id = "output-3"
    btn_id = "run-btn-3"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(3)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Boolean search for '(water AND ice) NOT Forest'...")

        params = {
            'q': '(water AND ice) NOT Forest',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-3", data)
        mark_tab_complete("btn-tab-response-3")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total number of resources found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-3")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-3").onclick = example_3
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-faceted-includes" class="example-collapsible">
<summary><strong>Faceted Search ‚Äî¬†Includes</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Faceted Search (Includes)</h3>
        <span class="badge">Facets</span>
    </div>
    <p><strong>Goal:</strong> Search for "seattle", filter for "Maps" AND "Washington".</p>
    <p><strong>Request:</strong> <code>GET /api/v1/search?q=seattle&include_filters...</code></p>

    <div class="tabs">
        <button id="btn-tab-python-6" class="tab-btn active"
            onclick="openTab(event, 'tab-python-6')">Python</button>
        <button id="btn-tab-response-6" class="tab-btn" onclick="openTab(event, 'tab-response-6')">API
            Response</button>
        <button id="btn-tab-output-6" class="tab-btn"
            onclick="openTab(event, 'tab-output-6')">Output</button>
    </div>

    <div id="tab-python-6" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-6')">üìã Copy</button>
        <pre><code id="code-6" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 6: Faceted search (Maps + Washington)
params = {
    'q': 'seattle',
    'include_filters[gbl_resourceClass_sm][]': 'Maps',
    'include_filters[dct_spatial_sm][]': 'Washington',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-6" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-6')">üìã Copy</button>
        <pre><code id="json-6" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-6" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-6')">üìã Copy</button>
        <div class="output-area" id="output-6">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-6">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_6(event):
    """Example: Faceted Search - With includes"""
    output_id = "output-6"
    btn_id = "run-btn-6"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(6)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Faceted search (Maps + Washington)...")

        params = {
            'q': 'seattle',
            'include_filters[gbl_resourceClass_sm][]': 'Maps',
            'include_filters[dct_spatial_sm][]': 'Washington',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-6", data)
        mark_tab_complete("btn-tab-response-6")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-6")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-6").onclick = example_6
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-faceted-excludes" class="example-collapsible">
<summary><strong>Faceted Search ‚Äî Excludes</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Faceted Search (Excludes)</h3>
        <span class="badge">Facets</span>
    </div>
    <p><strong>Goal:</strong> Search for "seattle", filter for "Maps", "Washington", but EXCLUDE
        "Pennsylvania State University".</p>
    <p><strong>Request:</strong> <code>GET /api/v1/search?q=seattle&exclude_filters...</code></p>

    <div class="tabs">
        <button id="btn-tab-python-7" class="tab-btn active"
            onclick="openTab(event, 'tab-python-7')">Python</button>
        <button id="btn-tab-response-7" class="tab-btn" onclick="openTab(event, 'tab-response-7')">API
            Response</button>
        <button id="btn-tab-output-7" class="tab-btn"
            onclick="openTab(event, 'tab-output-7')">Output</button>
    </div>

    <div id="tab-python-7" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-7')">üìã Copy</button>
        <pre><code id="code-7" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 7: Faceted search (Maps + Washington - PSU)
params = {
    'q': 'seattle',
    'include_filters[gbl_resourceClass_sm][]': 'Maps',
    'include_filters[dct_spatial_sm][]': 'Washington',
    'exclude_filters[schema_provider_s][]': 'Pennsylvania State University',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-7" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-7')">üìã Copy</button>
        <pre><code id="json-7" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-7" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-7')">üìã Copy</button>
        <div class="output-area" id="output-7">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-7">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_7(event):
    """Example: Faceted Search - With excludes"""
    output_id = "output-7"
    btn_id = "run-btn-7"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(7)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Faceted search (Maps + Washington - PSU)...")

        params = {
            'q': 'seattle',
            'include_filters[gbl_resourceClass_sm][]': 'Maps',
            'include_filters[dct_spatial_sm][]': 'Washington',
            'exclude_filters[schema_provider_s][]': 'Pennsylvania State University',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-7", data)
        mark_tab_complete("btn-tab-response-7")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-7")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-7").onclick = example_7
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-spatial-bbox" class="example-collapsible">
<summary><strong>Spatial Search ‚Äî BBox</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Spatial Search (BBox)</h3>
        <span class="badge">Spatial</span>
    </div>
    <p><strong>Goal:</strong> Find maps within the Minnesota bounding box.</p>
    <p><strong>Request:</strong>
        <code>GET /api/v1/search?q=maps&include_filters[geo][type]=bbox...</code>
    </p>

    <div class="tabs">
        <button id="btn-tab-python-8" class="tab-btn active"
            onclick="openTab(event, 'tab-python-8')">Python</button>
        <button id="btn-tab-response-8" class="tab-btn" onclick="openTab(event, 'tab-response-8')">API
            Response</button>
        <button id="btn-tab-output-8" class="tab-btn"
            onclick="openTab(event, 'tab-output-8')">Output</button>
    </div>

    <div id="tab-python-8" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-8')">üìã Copy</button>
        <pre><code id="code-8" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 8: Bounding Box Search (Minnesota)
params = {
    'q': 'maps',
    'include_filters[geo][type]': 'bbox',
    'include_filters[geo][field]': 'dcat_bbox',
    'include_filters[geo][top_left][lat]': '49.0',
    'include_filters[geo][top_left][lon]': '-97.2',
    'include_filters[geo][bottom_right][lat]': '43.5',
    'include_filters[geo][bottom_right][lon]': '-89.5',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-8" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-8')">üìã Copy</button>
        <pre><code id="json-8" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-8" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-8')">üìã Copy</button>
        <div class="output-area" id="output-8">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-8">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_8(event):
    """Example: Spatial Search - Bounding Box"""
    output_id = "output-8"
    btn_id = "run-btn-8"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(8)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Bounding Box Search (Minnesota)...")

        params = {
            'q': 'maps',
            'include_filters[geo][type]': 'bbox',
            'include_filters[geo][field]': 'dcat_bbox',
            'include_filters[geo][top_left][lat]': '49.0',
            'include_filters[geo][top_left][lon]': '-97.2',
            'include_filters[geo][bottom_right][lat]': '43.5',
            'include_filters[geo][bottom_right][lon]': '-89.5',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-8", data)
        mark_tab_complete("btn-tab-response-8")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-8")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-8").onclick = example_8
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-spatial-distance" class="example-collapsible">
<summary><strong>Spatial Search ‚Äî¬†Distance</strong></summary>

<div class="example-block">
                    <div class="example-header">
        <h3>Spatial Search (Distance)</h3>
                        <span class="badge">Spatial</span>
                    </div>
                    <p><strong>Goal:</strong> Find "parks" resources within 50km of Minneapolis.</p>
                    <p><strong>Request:</strong>
                        <code>GET /api/v1/search?q=parks&include_filters[geo][type]=distance...</code>
                    </p>

                    <div class="tabs">
                        <button id="btn-tab-python-9" class="tab-btn active"
                            onclick="openTab(event, 'tab-python-9')">Python</button>
                        <button id="btn-tab-response-9" class="tab-btn" onclick="openTab(event, 'tab-response-9')">API
                            Response</button>
                        <button id="btn-tab-output-9" class="tab-btn"
                            onclick="openTab(event, 'tab-output-9')">Output</button>
                    </div>

                    <div id="tab-python-9" class="tab-content active" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('code-9')">üìã Copy</button>
                        <pre><code id="code-9" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 9: Distance Search (50km from Minneapolis)
params = {
    'q': 'parks',
    'include_filters[geo][type]': 'distance',
    'include_filters[geo][field]': 'dcat_centroid',
    'include_filters[geo][center][lat]': '44.9778',
    'include_filters[geo][center][lon]': '-93.2650',
    'include_filters[geo][distance]': '50km',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
                    </div>

                    <div id="tab-response-9" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('json-9')">üìã Copy</button>
                        <pre><code id="json-9" class="json-area language-json">Click "Run" to see the API response...</code></pre>
                    </div>

                    <div id="tab-output-9" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('output-9')">üìã Copy</button>
                        <div class="output-area" id="output-9">Click "Run" to see the output...</div>
                    </div>

    <button class="run-btn" id="run-btn-9">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_9(event):
    """Example: Spatial Search - Distance"""
    output_id = "output-9"
    btn_id = "run-btn-9"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(9)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Distance Search (50km from Minneapolis)...")

        params = {
            'q': 'parks',
            'include_filters[geo][type]': 'distance',
            'include_filters[geo][field]': 'dcat_centroid',
            'include_filters[geo][center][lat]': '44.9778',
            'include_filters[geo][center][lon]': '-93.2650',
            'include_filters[geo][distance]': '50km',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-9", data)
        mark_tab_complete("btn-tab-response-9")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-9")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-9").onclick = example_9
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-spatial-polygon" class="example-collapsible">
<summary><strong>Spatial Search ‚Äî Polygon</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Spatial Search (Polygon)</h3>
        <span class="badge">Spatial</span>
    </div>
    <p><strong>Goal:</strong> Find "water" resources intersecting with Colorado state boundaries.</p>
    <p><strong>Request:</strong>
        <code>GET /api/v1/search?q=water&include_filters[geo][type]=polygon...</code>
    </p>

    <div class="tabs">
        <button id="btn-tab-python-10" class="tab-btn active"
            onclick="openTab(event, 'tab-python-10')">Python</button>
        <button id="btn-tab-response-10" class="tab-btn" onclick="openTab(event, 'tab-response-10')">API
            Response</button>
        <button id="btn-tab-output-10" class="tab-btn"
            onclick="openTab(event, 'tab-output-10')">Output</button>
    </div>

    <div id="tab-python-10" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-10')">üìã Copy</button>
        <pre><code id="code-10" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 10: Polygon Search (Colorado)
params = {
    'q': 'water',
    'include_filters[geo][type]': 'polygon',
    'include_filters[geo][field]': 'locn_geometry',
    'include_filters[geo][relation]': 'intersects',
    'include_filters[geo][points][0][lat]': '41.0',
    'include_filters[geo][points][0][lon]': '-109.0',
    'include_filters[geo][points][1][lat]': '41.0',
    'include_filters[geo][points][1][lon]': '-102.0',
    'include_filters[geo][points][2][lat]': '37.0',
    'include_filters[geo][points][2][lon]': '-102.0',
    'include_filters[geo][points][3][lat]': '37.0',
    'include_filters[geo][points][3][lon]': '-109.0',
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-10" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-10')">üìã Copy</button>
        <pre><code id="json-10" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-10" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-10')">üìã Copy</button>
        <div class="output-area" id="output-10">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-10">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_10(event):
    """Example: Spatial Search - Polygon"""
    output_id = "output-10"
    btn_id = "run-btn-10"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(10)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Polygon Search (Colorado)...")

        params = {
            'q': 'water',
            'include_filters[geo][type]': 'polygon',
            'include_filters[geo][field]': 'locn_geometry',
            'include_filters[geo][relation]': 'intersects',
            'include_filters[geo][points][0][lat]': '41.0',
            'include_filters[geo][points][0][lon]': '-109.0',
            'include_filters[geo][points][1][lat]': '41.0',
            'include_filters[geo][points][1][lon]': '-102.0',
            'include_filters[geo][points][2][lat]': '37.0',
            'include_filters[geo][points][2][lon]': '-102.0',
            'include_filters[geo][points][3][lat]': '37.0',
            'include_filters[geo][points][3][lon]': '-109.0',
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-10", data)
        mark_tab_complete("btn-tab-response-10")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-10")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-10").onclick = example_10
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-advanced" class="example-collapsible">
<summary><strong>Advanced Search</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Advanced Search (adv_q)</h3>
        <span class="badge">Advanced</span>
    </div>
    <p><strong>Goal:</strong> Find "Maps" having "Island" in title but NOT "Antarctica".</p>
    <p><strong>Request:</strong> <code>GET /api/v1/search?q=&adv_q=...</code></p>

    <div class="tabs">
        <button id="btn-tab-python-11" class="tab-btn active"
            onclick="openTab(event, 'tab-python-11')">Python</button>
        <button id="btn-tab-response-11" class="tab-btn" onclick="openTab(event, 'tab-response-11')">API
            Response</button>
        <button id="btn-tab-output-11" class="tab-btn"
            onclick="openTab(event, 'tab-output-11')">Output</button>
    </div>

    <div id="tab-python-11" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-11')">üìã Copy</button>
        <pre><code id="code-11" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 11: Advanced Search with adv_q
# Logic: (ResourceClass=Maps AND Title=Island) NOT Title=Antarctica
adv_query = [
    {"op": "AND", "f": "gbl_resourceClass_sm", "q": "Maps"},
    {"op": "AND", "f": "dct_title_s", "q": "Island"},
    {"op": "NOT", "f": "dct_title_s", "q": "antarctica"}
]

params = {
    'q': '',
    'adv_q': json.dumps(adv_query),
    'page': 1,
    'per_page': 10
}

response = requests.get(f"{BASE_URL}/search", params=params)
data = response.json()

print(f"Total Found: {data.get('meta', {}).get('totalCount')}")

print("\nList of titles:")
for item in data.get('data', []):
    print(f"  - {item['attributes'].get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-11" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-11')">üìã Copy</button>
        <pre><code id="json-11" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-11" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-11')">üìã Copy</button>
        <div class="output-area" id="output-11">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-11">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_11(event):
    """Example: Advanced Search (adv_q)"""
    output_id = "output-11"
    btn_id = "run-btn-11"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(11)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Advanced Search (Maps + 'Island' - 'antarctica')...")

        # Logic: (ResourceClass=Maps AND Title=Island) NOT Title=Antarctica
        adv_query = [
            {"op": "AND", "f": "gbl_resourceClass_sm", "q": "Maps"},
            {"op": "AND", "f": "dct_title_s", "q": "Island"},
            {"op": "NOT", "f": "dct_title_s", "q": "antarctica"}
        ]

        params = {
            'q': '',
            'adv_q': json.dumps(adv_query),
            'page': 1,
            'per_page': 10
        }

        response = requests.get(f"{BASE_URL}/search", params=params)
        data = response.json()
        set_json_content("json-11", data)
        mark_tab_complete("btn-tab-response-11")

        print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
        print_to_output(output_id, f"üìä Total Found: {data.get('meta', {}).get('totalCount')}")

        titles = [item['attributes'].get('ogm', {}).get('dct_title_s', 'N/A') for item in data.get('data', [])]

        html_list = "<ol>"
        for title in titles:
            html_list += f"<li>{title}</li>"
        html_list += "</ol>"

        print_to_output(output_id, "List of titles:")
        print_to_output(output_id, html_list, is_html=True)
        mark_tab_complete("btn-tab-output-11")

        btn.innerText = "‚úÖ Complete!"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-11").onclick = example_11
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<script>
(function() {
    // Map of example IDs to their details elements
    const exampleMap = {
        'field-directed': 'example-field-directed',
        'boolean': 'example-boolean',
        'faceted': 'example-faceted',
        'faceted-includes': 'example-faceted-includes',
        'faceted-excludes': 'example-faceted-excludes',
        'spatial-bbox': 'example-spatial-bbox',
        'spatial-distance': 'example-spatial-distance',
        'spatial-polygon': 'example-spatial-polygon',
        'advanced': 'example-advanced',
        'list-resources': 'example-list-resources',
        'resource-distributions': 'example-resource-distributions',
        'resource-links': 'example-resource-links',
        'resource-metadata': 'example-resource-metadata',
        'resource-relationships': 'example-resource-relationships',
        'resource-spatial-facets': 'example-resource-spatial-facets',
        'resource-ogm-viewer': 'example-resource-ogm-viewer',
        'resource-citation': 'example-resource-citation',
        'resource-downloads': 'example-resource-downloads',
        'resource-similar-items': 'example-resource-similar-items',
        'resource-static-map': 'example-resource-static-map',
        'resource-thumbnail': 'example-resource-thumbnail',
        'resource-viewer': 'example-resource-viewer'
    };

    // Open example from URL hash on page load
    function openExampleFromHash() {
        const hash = window.location.hash.substring(1); // Remove #
        if (hash && exampleMap[hash]) {
            const details = document.getElementById(exampleMap[hash]);
            if (details) {
                details.open = true;
                // Scroll to the element
                setTimeout(() => {
                    details.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }
        }
    }

    // Update URL hash when details are toggled
    function setupHashUpdates() {
        const details = document.querySelectorAll('.example-collapsible');
        details.forEach(detail => {
            detail.addEventListener('toggle', function() {
                if (this.open) {
                    // Find the key for this element
                    const key = Object.keys(exampleMap).find(k => exampleMap[k] === this.id);
                    if (key) {
                        // Update URL without scrolling
                        history.replaceState(null, '', '#' + key);
                    }
                } else {
                    // Remove hash if closing and it's the current one
                    const hash = window.location.hash.substring(1);
                    const key = Object.keys(exampleMap).find(k => exampleMap[k] === this.id);
                    if (hash === key) {
                        history.replaceState(null, '', window.location.pathname + window.location.search);
                    }
                }
            });
        });
    }

    // Run on page load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', function() {
            openExampleFromHash();
            setupHashUpdates();
        });
    } else {
        openExampleFromHash();
        setupHashUpdates();
    }
})();
</script>

<p><strong>Search Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Parameter</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>q</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Full‚Äëtext query (default <code>*:*</code>).</td>
</tr>
<tr>
<td style="text-align: left;"><code>fq</code></td>
<td style="text-align: left;">object</td>
<td style="text-align: left;">Active facet include filters (same as include_filters)</td>
</tr>
<tr>
<td style="text-align: left;"><code>search_field</code></td>
<td style="text-align: left;">string (CSV)</td>
<td style="text-align: left;">Search field (all_fields [default], etc.)</td>
</tr>
<tr>
<td style="text-align: left;"><code>page</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">Current page of results</td>
</tr>
<tr>
<td style="text-align: left;"><code>per_page</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;">Number of results to return</td>
</tr>
<tr>
<td style="text-align: left;"><code>sort</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Sort option (relevance, year_desc, year_asc, title_asc, title_desc)</td>
</tr>
<tr>
<td style="text-align: left;"><code>format</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">Format option (JSON [default], JSONP)</td>
</tr>
<tr>
<td style="text-align: left;"><code>callback</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">JSONP callback name</td>
</tr>
<tr>
<td style="text-align: left;"><code>fields</code></td>
<td style="text-align: left;">string (CSV)</td>
<td style="text-align: left;">List of fields to return</td>
</tr>
<tr>
<td style="text-align: left;"><code>facets</code></td>
<td style="text-align: left;">string (CSV)</td>
<td style="text-align: left;">List of facets to return</td>
</tr>
<tr>
<td style="text-align: left;"><code>include_filters</code></td>
<td style="text-align: left;">object</td>
<td style="text-align: left;">Active facet include filters (same as fq)</td>
</tr>
<tr>
<td style="text-align: left;"><code>exclude_filters</code></td>
<td style="text-align: left;">object</td>
<td style="text-align: left;">Active facet exclude filters</td>
</tr>
<tr>
<td style="text-align: left;"><code>meta</code></td>
<td style="text-align: left;">boolean</td>
<td style="text-align: left;">Include META (default true)</td>
</tr>
<tr>
<td style="text-align: left;"><code>adv_q</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">JSON array of advanced query clauses. Example: <code>{'op': 'AND|OR|NOT', 'f': 'dct_title_s', 'q': 'Iowa'}</code></td>
</tr>
</tbody>
</table>
<h2 id="search-facet-pagination">Search Facet Pagination<a class="headerlink" href="#search-facet-pagination" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Path</th>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GET</td>
<td style="text-align: left;"><code>/search/facets/{facet_name}</code></td>
<td style="text-align: left;">Get paginated, sortable facet values for a specific facet field within a search resultset.</td>
</tr>
</tbody>
</table>
<h4 id="interactive-example-search-facet-pagination">Interactive Example: Search Facet Pagination<a class="headerlink" href="#interactive-example-search-facet-pagination" title="Permanent link">&para;</a></h4>
<div class="example-block">
    <div class="example-header">
        <h3>Facet Pagination</h3>
        <span class="badge">Search</span>
    </div>
    <p><strong>Goal:</strong> Get paginated facet values for the resource class facet.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/search/facets/gbl_resourceClass_sm</code></p>

    <div class="tabs">
        <button id="btn-tab-python-26" class="tab-btn active"
            onclick="openTab(event, 'tab-python-26')">Python</button>
        <button id="btn-tab-response-26" class="tab-btn" onclick="openTab(event, 'tab-response-26')">API
            Response</button>
        <button id="btn-tab-output-26" class="tab-btn"
            onclick="openTab(event, 'tab-output-26')">Output</button>
    </div>

    <div id="tab-python-26" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-26')">üìã Copy</button>
        <pre><code id="code-26" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get paginated facet values for resource class
facet_name = "gbl_resourceClass_sm"
params = {
    'page': 1,
    'per_page': 10,
    'sort': 'count_desc'
}

response = requests.get(f"{BASE_URL}/search/facets/{facet_name}", params=params)
data = response.json()

print(f"Facet: {facet_name}")
print(f"Total values: {data.get('meta', {}).get('total', 0)}")
print(f"Page: {data.get('meta', {}).get('page', 1)}")

for item in data.get('data', []):
    value = item.get('value', 'N/A')
    count = item.get('count', 0)
    print(f"  {value}: {count}")</code></pre>
    </div>

    <div id="tab-response-26" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-26')">üìã Copy</button>
        <pre><code id="json-26" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-26" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-26')">üìã Copy</button>
        <div class="output-area" id="output-26">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-26">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_26(event):
    """Example: Facet Pagination"""
    output_id = "output-26"
    btn_id = "run-btn-26"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(26)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        facet_name = "gbl_resourceClass_sm"
        print_to_output(output_id, f"üîÑ Running Example: Fetching facet values for {facet_name}...")

        params = {
            'page': 1,
            'per_page': 10,
            'sort': 'count_desc'
        }
        response = requests.get(f"{BASE_URL}/search/facets/{facet_name}", params=params)

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-26", data)
            mark_tab_complete("btn-tab-response-26")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Facet: {facet_name}")

            meta = data.get('meta', {})
            total = meta.get('total', 0)
            page = meta.get('page', 1)
            per_page = meta.get('per_page', 10)

            print_to_output(output_id, f"Total values: {total}")
            print_to_output(output_id, f"Page: {page}")
            print_to_output(output_id, f"Per page: {per_page}")

            items = data.get('data', [])
            if items:
                print_to_output(output_id, f"\nFacet values (showing {len(items)} of {total}):")
                for item in items:
                    if isinstance(item, dict):
                        value = item.get('value', 'N/A')
                        count = item.get('count', 0)
                        print_to_output(output_id, f"  {value}: {count}")
                    else:
                        print_to_output(output_id, f"  {item}")
            else:
                print_to_output(output_id, "No facet values found.")

            mark_tab_complete("btn-tab-output-26")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-26").onclick = example_26
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Req?</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>facet_name</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">‚úîÔ∏è</td>
<td style="text-align: left;">Facet field name (e.g., <code>gbl_resourceClass_sm</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>q</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Search query to filter resultset</td>
</tr>
<tr>
<td style="text-align: left;"><code>page</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Page number (minimum: 1, default: 1)</td>
</tr>
<tr>
<td style="text-align: left;"><code>per_page</code></td>
<td style="text-align: left;">integer</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Facet values per page (1-100, default: 10)</td>
</tr>
<tr>
<td style="text-align: left;"><code>sort</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Sort option: <code>count_desc</code>, <code>count_asc</code>, <code>alpha_asc</code>, <code>alpha_desc</code> (default: <code>count_desc</code>)</td>
</tr>
<tr>
<td style="text-align: left;"><code>q_facet</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Search query to filter facet values</td>
</tr>
<tr>
<td style="text-align: left;"><code>adv_q</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">JSON array of advanced query clauses. Each clause: <code>{'op': 'AND\|OR\|NOT', 'f': 'dct_title_s', 'q': 'Iowa'}</code></td>
</tr>
</tbody>
</table>
<h2 id="search-autosuggestions">Search Autosuggestions<a class="headerlink" href="#search-autosuggestions" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Path</th>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GET</td>
<td style="text-align: left;"><code>/suggest</code></td>
<td style="text-align: left;">Get search suggestions.</td>
</tr>
</tbody>
</table>
<h4 id="interactive-example-search-autosuggestions">Interactive Example: Search Autosuggestions<a class="headerlink" href="#interactive-example-search-autosuggestions" title="Permanent link">&para;</a></h4>
<div class="example-block">
    <div class="example-header">
        <h3>Search Autosuggestions</h3>
        <span class="badge">Search</span>
    </div>
    <p><strong>Goal:</strong> Get search suggestions for "Minn".</p>
    <p><strong>Request:</strong> <code>GET /api/v1/suggest?q=Minn</code></p>

    <div class="tabs">
        <button id="btn-tab-python-27" class="tab-btn active"
            onclick="openTab(event, 'tab-python-27')">Python</button>
        <button id="btn-tab-response-27" class="tab-btn" onclick="openTab(event, 'tab-response-27')">API
            Response</button>
        <button id="btn-tab-output-27" class="tab-btn"
            onclick="openTab(event, 'tab-output-27')">Output</button>
    </div>

    <div id="tab-python-27" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-27')">üìã Copy</button>
        <pre><code id="code-27" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get search suggestions
params = {
    'q': 'Minn'
}

response = requests.get(f"{BASE_URL}/suggest", params=params)
data = response.json()

print(f"Suggestions for 'Minn':")
for suggestion in data.get('suggestions', []):
    print(f"  - {suggestion}")</code></pre>
    </div>

    <div id="tab-response-27" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-27')">üìã Copy</button>
        <pre><code id="json-27" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-27" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-27')">üìã Copy</button>
        <div class="output-area" id="output-27">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-27">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_27(event):
    """Example: Search Autosuggestions"""
    output_id = "output-27"
    btn_id = "run-btn-27"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(27)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, f"üîÑ Running Example: Getting search suggestions for 'Minn'...")

        params = {
            'q': 'Minn'
        }
        response = requests.get(f"{BASE_URL}/suggest", params=params)

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-27", data)
            mark_tab_complete("btn-tab-response-27")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Query: Minn")

            # Handle different possible response formats
            suggestions = []
            if isinstance(data, dict):
                suggestions = data.get('suggestions', [])
                if not suggestions and 'data' in data:
                    # Maybe it's in a data array
                    suggestions = data.get('data', [])
            elif isinstance(data, list):
                suggestions = data

            if suggestions:
                print_to_output(output_id, f"\nFound {len(suggestions)} suggestions:")
                for suggestion in suggestions:
                    if isinstance(suggestion, dict):
                        # If suggestion is a dict, try to get a text value
                        text = suggestion.get('text', suggestion.get('value', suggestion.get('suggestion', str(suggestion))))
                        print_to_output(output_id, f"  - {text}")
                    else:
                        print_to_output(output_id, f"  - {suggestion}")
            else:
                print_to_output(output_id, "No suggestions found.")
                print_to_output(output_id, f"Response structure: {type(data).__name__}")

            mark_tab_complete("btn-tab-output-27")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-27").onclick = example_27
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Req?</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>q</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">‚úîÔ∏è</td>
<td style="text-align: left;">Search query for suggestions</td>
</tr>
<tr>
<td style="text-align: left;"><code>callback</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">JSONP callback name</td>
</tr>
</tbody>
</table>
<h2 id="resource-endpoint">Resource Endpoint<a class="headerlink" href="#resource-endpoint" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th style="text-align: left;">Method</th>
<th style="text-align: left;">Path</th>
<th style="text-align: left;">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">GET</td>
<td style="text-align: left;"><code>/resources/{id}</code></td>
<td style="text-align: left;">Returns a single Aardvark record, wrapped in JSON:API frontmatter.</td>
</tr>
</tbody>
</table>
<h4 id="interactive-example-obtain-a-resource">Interactive Example: Obtain a Resource<a class="headerlink" href="#interactive-example-obtain-a-resource" title="Permanent link">&para;</a></h4>
<div class="example-block">
                    <div class="example-header">
        <h3>Obtain a Resource</h3>
                        <span class="badge">Resource</span>
                    </div>
                    <p><strong>Goal:</strong> Fetch metadata for a specific resource ID.</p>
                    <p><strong>Request:</strong> <code>GET /api/v1/resources/ark28722-s7vs38</code></p>

                    <div class="tabs">
                        <button id="btn-tab-python-2" class="tab-btn active"
                            onclick="openTab(event, 'tab-python-2')">Python</button>
                        <button id="btn-tab-response-2" class="tab-btn" onclick="openTab(event, 'tab-response-2')">API
                            Response</button>
                        <button id="btn-tab-output-2" class="tab-btn"
                            onclick="openTab(event, 'tab-output-2')">Output</button>
                    </div>

                    <div id="tab-python-2" class="tab-content active" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('code-2')">üìã Copy</button>
                        <pre><code id="code-2" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Step 2: Fetch a specific resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}")
data = response.json()

attrs = data['data']['attributes']
print(f"Title: {attrs.get('dct_title_s', 'N/A')}")
print(f"Description: {attrs.get('dct_description_sm', ['N/A'])[0]}")

# Show references
if 'dct_references_s' in attrs:
    refs = json.loads(attrs['dct_references_s'])
    for key, value in refs.items():
        print(f"{key}: {value}")</code></pre>
                    </div>

                    <div id="tab-response-2" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('json-2')">üìã Copy</button>
                        <pre><code id="json-2" class="json-area language-json">Click "Run" to see the API response...</code></pre>
                    </div>

                    <div id="tab-output-2" class="tab-content" style="position: relative;">
                        <button class="copy-btn" onclick="copyCode('output-2')">üìã Copy</button>
                        <div class="output-area" id="output-2">Click "Run" to see the output...</div>
                    </div>

    <button class="run-btn" id="run-btn-2">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_2(event):
    """Example: Obtain a Resource"""
    output_id = "output-2"
    btn_id = "run-btn-2"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(2)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching resource {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-2", data)
            mark_tab_complete("btn-tab-response-2")
            attrs = data['data']['attributes']['ogm']

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Title: {attrs.get('dct_title_s', 'N/A')}")
            print_to_output(output_id, f"Description: {attrs.get('dct_description_sm', ['N/A'])[0]}")

            # Show references table
            if 'dct_references_s' in attrs:
                refs = json.loads(attrs['dct_references_s'])
                html_table = "<table style='border-collapse: collapse; width: 100%; margin-top: 10px; border: 1px solid #4a5568;'>"
                html_table += "<tr style='background: #2d3748;'><th style='text-align: left; padding: 8px; border: 1px solid #4a5568; color: #ffffff; font-weight: bold;'>Service</th><th style='text-align: left; padding: 8px; border: 1px solid #4a5568; color: #ffffff; font-weight: bold;'>URL</th></tr>"
                row_num = 0
                for key, value in refs.items():
                    service_name = key.split('#')[-1] if '#' in key else key.split('/')[-1]
                    url_display = value
                    if isinstance(value, dict):
                        url_display = value.get('url', str(value))
                    # Alternate row colors for better readability
                    row_bg = "#3a4558" if row_num % 2 == 0 else "#2d3748"
                    html_table += f"<tr style='background: {row_bg};'><td style='padding: 8px; border: 1px solid #4a5568; color: #e2e8f0;'>{service_name}</td><td style='padding: 8px; border: 1px solid #4a5568; color: #e2e8f0;'><a href='{url_display}' target='_blank' style='color: #63b3ed; text-decoration: underline;'>{str(url_display)[:40]}...</a></td></tr>"
                    row_num += 1
                html_table += "</table>"
                print_to_output(output_id, html_table, is_html=True)
            mark_tab_complete("btn-tab-output-2")

            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-2").onclick = example_2
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    // Get the button that was clicked
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    // Hide all tab content in this container
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    // Remove active class from all buttons in this container
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    // Show the current tab, and add an "active" class to the button that opened the tab
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>

<p><strong>Parameters</strong></p>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Req?</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>id</code></td>
<td style="text-align: left;">string</td>
<td style="text-align: left;">‚úîÔ∏è</td>
<td style="text-align: left;">Canonical record ID</td>
</tr>
<tr>
<td style="text-align: left;"><code>fields</code></td>
<td style="text-align: left;">string (CSV)</td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Subset of fields to include</td>
</tr>
</tbody>
</table>
<h2 id="resource-helper-endpoints">Resource Helper Endpoints<a class="headerlink" href="#resource-helper-endpoints" title="Permanent link">&para;</a></h2>
<details id="example-list-resources" class="example-collapsible">
<summary><strong>List Resources</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>List Resources</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get a list of Aardvark records.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/</code></p>

    <div class="tabs">
        <button id="btn-tab-python-12" class="tab-btn active"
            onclick="openTab(event, 'tab-python-12')">Python</button>
        <button id="btn-tab-response-12" class="tab-btn" onclick="openTab(event, 'tab-response-12')">API
            Response</button>
        <button id="btn-tab-output-12" class="tab-btn"
            onclick="openTab(event, 'tab-output-12')">Output</button>
    </div>

    <div id="tab-python-12" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-12')">üìã Copy</button>
        <pre><code id="code-12" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# List resources
response = requests.get(f"{BASE_URL}/resources/")
data = response.json()

print(f"Total resources: {data.get('meta', {}).get('total', 0)}")
print(f"Page: {data.get('meta', {}).get('page', 1)}")
print(f"Per page: {data.get('meta', {}).get('per_page', 10)}")

# Show first few resources
for item in data.get('data', [])[:5]:
    attrs = item.get('attributes', {})
    print(f"\nID: {item.get('id')}")
    print(f"Title: {attrs.get('dct_title_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-12" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-12')">üìã Copy</button>
        <pre><code id="json-12" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-12" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-12')">üìã Copy</button>
        <div class="output-area" id="output-12">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-12">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    """Helper to append text or HTML to output area"""
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    """Helper to set JSON content and highlight it"""
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    """Add checkmark to tab button if not already present"""
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    """Reset tab marks for an example"""
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    """Reset button text after delay"""
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    """Clear output area"""
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    """Show output area"""
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    """Disable a button"""
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    """Enable a button"""
    document.getElementById(btn_id).disabled = False


async def example_12(event):
    """Example: List Resources"""
    output_id = "output-12"
    btn_id = "run-btn-12"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(12)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        print_to_output(output_id, "üîÑ Running Example: Fetching list of resources...")

        response = requests.get(f"{BASE_URL}/resources/")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-12", data)
            mark_tab_complete("btn-tab-response-12")

            meta = data.get('meta', {})
            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Total resources: {meta.get('total', 0)}")
            print_to_output(output_id, f"Page: {meta.get('page', 1)}")
            print_to_output(output_id, f"Per page: {meta.get('per_page', 10)}")

            # Show first few resources
            resources = data.get('data', [])
            print_to_output(output_id, f"\nShowing first {min(5, len(resources))} resources:")
            for item in resources[:5]:
                attrs = item.get('attributes', {})
                print_to_output(output_id, f"\nID: {item.get('id')}")
                print_to_output(output_id, f"Title: {attrs.get('dct_title_s', 'N/A')}")

            mark_tab_complete("btn-tab-output-12")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


# Bind click event
document.getElementById("run-btn-12").onclick = example_12
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;

    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';

        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

// Tab switching
function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');

    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }

    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }

    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-citation" class="example-collapsible">
<summary><strong>Resource ‚Äî Citation</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Citation</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get citation information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/citation</code></p>

    <div class="tabs">
        <button id="btn-tab-python-19" class="tab-btn active"
            onclick="openTab(event, 'tab-python-19')">Python</button>
        <button id="btn-tab-response-19" class="tab-btn" onclick="openTab(event, 'tab-response-19')">API
            Response</button>
        <button id="btn-tab-output-19" class="tab-btn"
            onclick="openTab(event, 'tab-output-19')">Output</button>
    </div>

    <div id="tab-python-19" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-19')">üìã Copy</button>
        <pre><code id="code-19" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get citation for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/citation")
data = response.json()

print(f"Citation for resource: {resource_id}")
print(f"Citation: {data.get('citation', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-19" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-19')">üìã Copy</button>
        <pre><code id="json-19" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-19" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-19')">üìã Copy</button>
        <div class="output-area" id="output-19">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-19">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_19(event):
    """Example: Resource Citation"""
    output_id = "output-19"
    btn_id = "run-btn-19"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(19)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching citation for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/citation")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-19", data)
            mark_tab_complete("btn-tab-response-19")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Citation for resource: {resource_id}")
            citation = data.get('citation', 'N/A')
            print_to_output(output_id, f"Citation: {citation}")

            mark_tab_complete("btn-tab-output-19")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-19").onclick = example_19
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-resource-distributions" class="example-collapsible">
<summary><strong>Resource ‚Äî Distributions</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Distributions</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get distribution information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/distributions</code></p>

    <div class="tabs">
        <button id="btn-tab-python-13" class="tab-btn active"
            onclick="openTab(event, 'tab-python-13')">Python</button>
        <button id="btn-tab-response-13" class="tab-btn" onclick="openTab(event, 'tab-response-13')">API
            Response</button>
        <button id="btn-tab-output-13" class="tab-btn"
            onclick="openTab(event, 'tab-output-13')">Output</button>
    </div>

    <div id="tab-python-13" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-13')">üìã Copy</button>
        <pre><code id="code-13" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get distributions for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/distributions")
data = response.json()

print(f"Distributions for resource: {resource_id}")
for dist in data.get('data', []):
    attrs = dist.get('attributes', {})
    print(f"Type: {attrs.get('dcat_distribution_type_s', 'N/A')}")
    print(f"URL: {attrs.get('dcat_access_url_s', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-13" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-13')">üìã Copy</button>
        <pre><code id="json-13" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-13" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-13')">üìã Copy</button>
        <div class="output-area" id="output-13">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-13">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_13(event):
    """Example: Resource Distributions"""
    output_id = "output-13"
    btn_id = "run-btn-13"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(13)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching distributions for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/distributions")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-13", data)
            mark_tab_complete("btn-tab-response-13")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Distributions for resource: {resource_id}")

            # Handle different response structures
            distributions = []
            if isinstance(data, dict):
                distributions = data.get('data', [])
            elif isinstance(data, list):
                distributions = data

            if distributions:
                for dist in distributions:
                    if isinstance(dist, dict):
                        # Handle JSON:API format
                        if 'attributes' in dist:
                            attrs = dist.get('attributes', {})
                            print_to_output(output_id, f"\nType: {attrs.get('dcat_distribution_type_s', 'N/A')}")
                            print_to_output(output_id, f"URL: {attrs.get('dcat_access_url_s', 'N/A')}")
                        else:
                            # Handle direct attribute format
                            print_to_output(output_id, f"\nType: {dist.get('dcat_distribution_type_s', 'N/A')}")
                            print_to_output(output_id, f"URL: {dist.get('dcat_access_url_s', 'N/A')}")
                    else:
                        print_to_output(output_id, f"\nDistribution: {dist}")
            else:
                print_to_output(output_id, "No distributions found.")

            mark_tab_complete("btn-tab-output-13")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-13").onclick = example_13
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-downloads" class="example-collapsible">
<summary><strong>Resource ‚Äî Downloads</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Downloads</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get download information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/downloads</code></p>

    <div class="tabs">
        <button id="btn-tab-python-20" class="tab-btn active"
            onclick="openTab(event, 'tab-python-20')">Python</button>
        <button id="btn-tab-response-20" class="tab-btn" onclick="openTab(event, 'tab-response-20')">API
            Response</button>
        <button id="btn-tab-output-20" class="tab-btn"
            onclick="openTab(event, 'tab-output-20')">Output</button>
    </div>

    <div id="tab-python-20" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-20')">üìã Copy</button>
        <pre><code id="code-20" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get downloads for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/downloads")
data = response.json()

print(f"Downloads for resource: {resource_id}")
for download in data.get('downloads', []):
    print(f"Label: {download.get('label', 'N/A')}")
    print(f"Type: {download.get('type', 'N/A')}")
    print(f"Format: {download.get('format', 'N/A')}")
    print(f"URL: {download.get('url', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-20" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-20')">üìã Copy</button>
        <pre><code id="json-20" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-20" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-20')">üìã Copy</button>
        <div class="output-area" id="output-20">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-20">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_20(event):
    """Example: Resource Downloads"""
    output_id = "output-20"
    btn_id = "run-btn-20"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(20)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching downloads for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/downloads")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-20", data)
            mark_tab_complete("btn-tab-response-20")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Downloads for resource: {resource_id}")

            downloads = data.get('downloads', [])
            if downloads:
                for download in downloads:
                    if isinstance(download, dict):
                        label = download.get('label', 'N/A')
                        url = download.get('url', 'N/A')
                        download_type = download.get('type', 'N/A')
                        format_type = download.get('format', 'N/A')
                        print_to_output(output_id, f"\nLabel: {label}")
                        print_to_output(output_id, f"Type: {download_type}")
                        print_to_output(output_id, f"Format: {format_type}")
                        print_to_output(output_id, f"URL: {url}")
                    else:
                        print_to_output(output_id, f"\nDownload: {download}")
            else:
                print_to_output(output_id, "No downloads found.")

            mark_tab_complete("btn-tab-output-20")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-20").onclick = example_20
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-resource-links" class="example-collapsible">
<summary><strong>Resource ‚Äî Links</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Links</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get link information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/links</code></p>

    <div class="tabs">
        <button id="btn-tab-python-14" class="tab-btn active"
            onclick="openTab(event, 'tab-python-14')">Python</button>
        <button id="btn-tab-response-14" class="tab-btn" onclick="openTab(event, 'tab-response-14')">API
            Response</button>
        <button id="btn-tab-output-14" class="tab-btn"
            onclick="openTab(event, 'tab-output-14')">Output</button>
    </div>

    <div id="tab-python-14" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-14')">üìã Copy</button>
        <pre><code id="code-14" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get links for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/links")
data = response.json()

print(f"Links for resource: {resource_id}")
for category, links in data.items():
    print(f"\n{category}:")
    for link in links:
        print(f"  Label: {link.get('label', 'N/A')}")
        print(f"  URL: {link.get('url', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-14" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-14')">üìã Copy</button>
        <pre><code id="json-14" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-14" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-14')">üìã Copy</button>
        <div class="output-area" id="output-14">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-14">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_14(event):
    """Example: Resource Links"""
    output_id = "output-14"
    btn_id = "run-btn-14"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(14)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching links for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/links")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-14", data)
            mark_tab_complete("btn-tab-response-14")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Links for resource: {resource_id}")

            if isinstance(data, dict) and data:
                for category, links in data.items():
                    print_to_output(output_id, f"\n{category}:")
                    if isinstance(links, list):
                        for link in links:
                            if isinstance(link, dict):
                                label = link.get('label', 'N/A')
                                url = link.get('url', 'N/A')
                                print_to_output(output_id, f"  Label: {label}")
                                print_to_output(output_id, f"  URL: {url}")
                    else:
                        print_to_output(output_id, f"  {links}")
            else:
                print_to_output(output_id, "No links found.")

            mark_tab_complete("btn-tab-output-14")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-14").onclick = example_14
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-metadata" class="example-collapsible">
<summary><strong>Resource ‚Äî Metadata Retrieval</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Metadata Retrieval</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get raw Aardvark metadata for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/metadata</code></p>

    <div class="tabs">
        <button id="btn-tab-python-15" class="tab-btn active"
            onclick="openTab(event, 'tab-python-15')">Python</button>
        <button id="btn-tab-response-15" class="tab-btn" onclick="openTab(event, 'tab-response-15')">API
            Response</button>
        <button id="btn-tab-output-15" class="tab-btn"
            onclick="openTab(event, 'tab-output-15')">Output</button>
    </div>

    <div id="tab-python-15" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-15')">üìã Copy</button>
        <pre><code id="code-15" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get raw metadata for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/metadata")
data = response.json()

print(f"Raw metadata for resource: {resource_id}")
print(f"Title: {data.get('dct_title_s', 'N/A')}")
print(f"Description: {data.get('dct_description_sm', ['N/A'])[0] if isinstance(data.get('dct_description_sm'), list) else 'N/A'}")</code></pre>
    </div>

    <div id="tab-response-15" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-15')">üìã Copy</button>
        <pre><code id="json-15" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-15" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-15')">üìã Copy</button>
        <div class="output-area" id="output-15">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-15">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_15(event):
    """Example: Resource Metadata Retrieval"""
    output_id = "output-15"
    btn_id = "run-btn-15"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(15)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching raw metadata for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/metadata")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-15", data)
            mark_tab_complete("btn-tab-response-15")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Raw metadata for resource: {resource_id}")
            print_to_output(output_id, f"Title: {data.get('dct_title_s', 'N/A')}")
            desc = data.get('dct_description_sm', [])
            if isinstance(desc, list) and desc:
                print_to_output(output_id, f"Description: {desc[0]}")
            else:
                print_to_output(output_id, f"Description: N/A")

            mark_tab_complete("btn-tab-output-15")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-15").onclick = example_15
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-ogm-viewer" class="example-collapsible">
<summary><strong>Resource ‚Äî OGM Viewer Retrieval</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource OGM Viewer Retrieval</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get the Aardvark record as HTML presented in the OGM Viewer.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/ogm-viewer</code></p>

    <div class="tabs">
        <button id="btn-tab-python-18" class="tab-btn active"
            onclick="openTab(event, 'tab-python-18')">Python</button>
        <button id="btn-tab-response-18" class="tab-btn" onclick="openTab(event, 'tab-response-18')">HTML
            Response</button>
        <button id="btn-tab-output-18" class="tab-btn"
            onclick="openTab(event, 'tab-output-18')">Output</button>
    </div>

    <div id="tab-python-18" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-18')">üìã Copy</button>
        <pre><code id="code-18" class="language-python">import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get OGM Viewer HTML for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/ogm-viewer")

if response.status_code == 200:
    html_content = response.text
    print(f"‚úÖ OGM Viewer HTML for resource: {resource_id}")
    print(f"Content-Type: {response.headers.get('Content-Type', 'N/A')}")
    print(f"HTML length: {len(html_content)} characters")
    print(f"\nFirst 500 characters of HTML:")
    print(html_content[:500])
else:
    print(f"‚ùå Error: {response.status_code}")</code></pre>
    </div>

    <div id="tab-response-18" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('html-18')">üìã Copy</button>
        <div id="html-response-18" style="padding: 15px; background: #1e1e1e; color: #d4d4d4; max-height: 600px; overflow: auto;">
            <p style="color: #d4d4d4;">Click "Run" to see the HTML response...</p>
        </div>
        <pre id="html-18" style="display: none; margin-top: 10px;"><code class="language-html"></code></pre>
    </div>

    <div id="tab-output-18" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-18')">üìã Copy</button>
        <div class="output-area" id="output-18">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-18">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def set_html_content(display_id, code_id, html_text):
    """Display HTML content in both rendered and code views"""
    import base64

    # Display rendered HTML in a scrollable container
    display_el = document.getElementById(display_id)
    if display_el:
        # Use base64 encoding for the iframe to avoid escaping issues
        html_bytes = html_text.encode('utf-8')
        html_encoded = base64.b64encode(html_bytes).decode('utf-8')

        display_el.innerHTML = f'''
            <div style="margin-bottom: 15px;">
                <strong style="color: #d4d4d4;">Rendered HTML:</strong>
            </div>
            <iframe src="data:text/html;base64,{html_encoded}" 
                    style="width: 100%; height: 500px; border: 1px solid #4a5568; border-radius: 4px; background: white;">
            </iframe>
            <div style="margin-top: 15px; margin-bottom: 10px;">
                <strong style="color: #d4d4d4;">HTML Source Code (scroll down to see all):</strong>
            </div>
        '''

    # Display HTML code for copying (show it below the iframe)
    code_el = document.getElementById(code_id)
    if code_el:
        code_el.style.display = "block"
        code_el.style.maxHeight = "400px"
        code_el.style.overflow = "auto"
        code_element = code_el.querySelector('code')
        if code_element:
            code_element.textContent = html_text
            try:
                Prism.highlightElement(code_element)
            except Exception:
                pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        if example_num == 18:
            resp_btn.innerText = "HTML Response"
        elif example_num in [22, 23]:
            resp_btn.innerText = "Image Response"
        else:
            resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_18(event):
    """Example: Resource OGM Viewer Retrieval"""
    output_id = "output-18"
    btn_id = "run-btn-18"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(18)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching OGM Viewer HTML for {resource_id}...")
        print_to_output(output_id, "‚ÑπÔ∏è Note: Browser console warnings about 'unsafe headers' are harmless and can be ignored.")

        # Make the request (browser may show warnings about headers, but request will still work)
        try:
            response = requests.get(f"{BASE_URL}/resources/{resource_id}/ogm-viewer", timeout=30)
            print_to_output(output_id, f"‚úÖ Request completed. Status: {response.status_code}")
        except Exception as req_error:
            print_to_output(output_id, f"‚ùå Request failed: {str(req_error)}")
            print_to_output(output_id, f"Error type: {type(req_error).__name__}")
            raise

        if response.status_code == 200:
            html_content = response.text
            content_type = response.headers.get('Content-Type', 'text/html')

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"OGM Viewer HTML for resource: {resource_id}")
            print_to_output(output_id, f"Content-Type: {content_type}")
            print_to_output(output_id, f"HTML length: {len(html_content)} characters")

            try:
                # Display HTML in response tab
                set_html_content("html-response-18", "html-18", html_content)
                mark_tab_complete("btn-tab-response-18")
            except Exception as display_error:
                print_to_output(output_id, f"‚ö†Ô∏è Warning: Could not display HTML in response tab: {str(display_error)}")

            try:
                # Display HTML preview in output (first 1000 chars)
                print_to_output(output_id, f"\nHTML Preview (first 1000 characters):")
                preview_text = html_content[:1000]
                # Escape HTML for display
                preview_text = preview_text.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").replace('"', "&quot;")
                preview_html = f'<pre style="background: #2d2d2d; padding: 10px; border-radius: 4px; overflow-x: auto; color: #d4d4d4; font-size: 12px;">{preview_text}...</pre>'
                print_to_output(output_id, preview_html, is_html=True)
            except Exception as preview_error:
                print_to_output(output_id, f"‚ö†Ô∏è Warning: Could not display HTML preview: {str(preview_error)}")

            try:
                # Also show rendered HTML in an iframe
                print_to_output(output_id, f"\nRendered HTML Preview:")
                # Use base64 encoding for the iframe to avoid escaping issues
                import base64
                html_bytes = html_content.encode('utf-8')
                html_encoded = base64.b64encode(html_bytes).decode('utf-8')
                iframe_html = f'<iframe src="data:text/html;base64,{html_encoded}" style="width: 100%; height: 400px; border: 1px solid #4a5568; border-radius: 4px; background: white;"></iframe>'
                print_to_output(output_id, iframe_html, is_html=True)
            except Exception as iframe_error:
                print_to_output(output_id, f"‚ö†Ô∏è Warning: Could not display HTML in iframe: {str(iframe_error)}")
                # Fallback: just show a link to view the HTML
                print_to_output(output_id, f"HTML content received successfully. Check the 'HTML Response' tab to view it.")

            mark_tab_complete("btn-tab-output-18")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        import traceback
        error_msg = f"‚ùå Error: {str(e)}"
        print_to_output(output_id, error_msg)
        print_to_output(output_id, f"Error type: {type(e).__name__}")
        try:
            import traceback
            tb = traceback.format_exc()
            print_to_output(output_id, f"Traceback:\n{tb}")
        except:
            pass
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-18").onclick = example_18
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-relationships" class="example-collapsible">
<summary><strong>Resource ‚Äî Relationships</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Relationships</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get relationship information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/relationships</code></p>

    <div class="tabs">
        <button id="btn-tab-python-16" class="tab-btn active"
            onclick="openTab(event, 'tab-python-16')">Python</button>
        <button id="btn-tab-response-16" class="tab-btn" onclick="openTab(event, 'tab-response-16')">API
            Response</button>
        <button id="btn-tab-output-16" class="tab-btn"
            onclick="openTab(event, 'tab-output-16')">Output</button>
    </div>

    <div id="tab-python-16" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-16')">üìã Copy</button>
        <pre><code id="code-16" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get relationships for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/relationships")
data = response.json()

print(f"Relationships for resource: {resource_id}")
for rel in data.get('data', []):
    attrs = rel.get('attributes', {})
    print(f"Type: {attrs.get('relationship_type', 'N/A')}")
    print(f"Related ID: {attrs.get('related_resource_id', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-16" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-16')">üìã Copy</button>
        <pre><code id="json-16" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-16" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-16')">üìã Copy</button>
        <div class="output-area" id="output-16">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-16">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_16(event):
    """Example: Resource Relationships"""
    output_id = "output-16"
    btn_id = "run-btn-16"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(16)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching relationships for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/relationships")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-16", data)
            mark_tab_complete("btn-tab-response-16")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Relationships for resource: {resource_id}")

            relationships = data.get('data', [])
            if relationships:
                for rel in relationships:
                    attrs = rel.get('attributes', {})
                    print_to_output(output_id, f"\nType: {attrs.get('relationship_type', 'N/A')}")
                    print_to_output(output_id, f"Related ID: {attrs.get('related_resource_id', 'N/A')}")
            else:
                print_to_output(output_id, "No relationships found.")

            mark_tab_complete("btn-tab-output-16")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-16").onclick = example_16
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-similar-items" class="example-collapsible">
<summary><strong>Resource ‚Äî Similar Items</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Similar Items</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get similar items for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/similar-items</code></p>

    <div class="tabs">
        <button id="btn-tab-python-21" class="tab-btn active"
            onclick="openTab(event, 'tab-python-21')">Python</button>
        <button id="btn-tab-response-21" class="tab-btn" onclick="openTab(event, 'tab-response-21')">API
            Response</button>
        <button id="btn-tab-output-21" class="tab-btn"
            onclick="openTab(event, 'tab-output-21')">Output</button>
    </div>

    <div id="tab-python-21" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-21')">üìã Copy</button>
        <pre><code id="code-21" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get similar items for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/similar-items")
data = response.json()

print(f"Similar items for resource: {resource_id}")
for item in data.get('similar_items', [])[:5]:
    print(f"ID: {item.get('id', 'N/A')}")
    print(f"Title: {item.get('title', 'N/A')}")
    temporal = item.get('temporal_coverage', [])
    if temporal:
        print(f"Temporal Coverage: {', '.join(temporal)}")</code></pre>
    </div>

    <div id="tab-response-21" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-21')">üìã Copy</button>
        <pre><code id="json-21" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-21" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-21')">üìã Copy</button>
        <div class="output-area" id="output-21">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-21">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_21(event):
    """Example: Resource Similar Items"""
    output_id = "output-21"
    btn_id = "run-btn-21"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(21)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching similar items for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/similar-items")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-21", data)
            mark_tab_complete("btn-tab-response-21")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Similar items for resource: {resource_id}")

            items = data.get('similar_items', [])
            if items:
                print_to_output(output_id, f"\nFound {len(items)} similar items. Showing first {min(5, len(items))}:")
                for item in items[:5]:
                    if isinstance(item, dict):
                        item_id = item.get('id', 'N/A')
                        title = item.get('title', 'N/A')
                        temporal = item.get('temporal_coverage', [])
                        print_to_output(output_id, f"\nID: {item_id}")
                        print_to_output(output_id, f"Title: {title}")
                        if temporal:
                            print_to_output(output_id, f"Temporal Coverage: {', '.join(temporal)}")
                    else:
                        print_to_output(output_id, f"\nItem: {item}")
            else:
                print_to_output(output_id, "No similar items found.")

            mark_tab_complete("btn-tab-output-21")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-21").onclick = example_21
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-resource-spatial-facets" class="example-collapsible">
<summary><strong>Resource ‚Äî Spatial Facets</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Spatial Facets</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get spatial facet information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/spatial-facets</code></p>

    <div class="tabs">
        <button id="btn-tab-python-17" class="tab-btn active"
            onclick="openTab(event, 'tab-python-17')">Python</button>
        <button id="btn-tab-response-17" class="tab-btn" onclick="openTab(event, 'tab-response-17')">API
            Response</button>
        <button id="btn-tab-output-17" class="tab-btn"
            onclick="openTab(event, 'tab-output-17')">Output</button>
    </div>

    <div id="tab-python-17" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-17')">üìã Copy</button>
        <pre><code id="code-17" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get spatial facets for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/spatial-facets")
data = response.json()

print(f"Spatial facets for resource: {resource_id}")
spatial_facets = data.get('spatial_facets', {})
if spatial_facets:
    if 'dcat_bbox' in spatial_facets:
        print(f"Bounding Box: {spatial_facets['dcat_bbox']}")
    if 'geo.country' in spatial_facets:
        country = spatial_facets['geo.country']
        print(f"Country: {country.get('name', 'N/A')}")
    if 'geo.region' in spatial_facets:
        regions = spatial_facets['geo.region']
        print(f"Regions: {', '.join([r.get('name', '') for r in regions])}")
    if 'geo.county' in spatial_facets:
        counties = spatial_facets['geo.county']
        print(f"Counties: {', '.join([c.get('name', '') for c in counties])}")
else:
    print("No spatial facets found.")</code></pre>
    </div>

    <div id="tab-response-17" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-17')">üìã Copy</button>
        <pre><code id="json-17" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-17" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-17')">üìã Copy</button>
        <div class="output-area" id="output-17">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-17">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_17(event):
    """Example: Resource Spatial Facets"""
    output_id = "output-17"
    btn_id = "run-btn-17"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(17)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching spatial facets for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/spatial-facets")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-17", data)
            mark_tab_complete("btn-tab-response-17")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Spatial facets for resource: {resource_id}")

            spatial_facets = data.get('spatial_facets', {})
            if spatial_facets:
                # Display bounding box
                if 'dcat_bbox' in spatial_facets:
                    print_to_output(output_id, f"\nBounding Box: {spatial_facets['dcat_bbox']}")

                # Display country
                if 'geo.country' in spatial_facets:
                    country = spatial_facets['geo.country']
                    if isinstance(country, dict):
                        print_to_output(output_id, f"\nCountry: {country.get('name', 'N/A')}")

                # Display regions
                if 'geo.region' in spatial_facets:
                    regions = spatial_facets['geo.region']
                    if isinstance(regions, list) and regions:
                        region_names = [r.get('name', '') for r in regions if isinstance(r, dict)]
                        if region_names:
                            print_to_output(output_id, f"\nRegions: {', '.join(region_names)}")

                # Display counties
                if 'geo.county' in spatial_facets:
                    counties = spatial_facets['geo.county']
                    if isinstance(counties, list) and counties:
                        county_names = [c.get('name', '') for c in counties if isinstance(c, dict)]
                        if county_names:
                            print_to_output(output_id, f"\nCounties: {', '.join(county_names)}")
            else:
                print_to_output(output_id, "No spatial facets found.")

            mark_tab_complete("btn-tab-output-17")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-17").onclick = example_17
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-static-map" class="example-collapsible">
<summary><strong>Resource ‚Äî Static Map</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Static Map</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get static map image for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/static-map</code></p>

    <div class="tabs">
        <button id="btn-tab-python-23" class="tab-btn active"
            onclick="openTab(event, 'tab-python-23')">Python</button>
        <button id="btn-tab-response-23" class="tab-btn" onclick="openTab(event, 'tab-response-23')">Image
            Response</button>
        <button id="btn-tab-output-23" class="tab-btn"
            onclick="openTab(event, 'tab-output-23')">Output</button>
    </div>

    <div id="tab-python-23" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-23')">üìã Copy</button>
        <pre><code id="code-23" class="language-python">import requests
import base64

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get static map image for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/static-map")

if response.status_code == 200:
    # Save the image
    with open('static_map.png', 'wb') as f:
        f.write(response.content)
    print(f"‚úÖ Static map image saved for resource: {resource_id}")
    print(f"Content-Type: {response.headers.get('Content-Type', 'N/A')}")
    print(f"Image size: {len(response.content)} bytes")
else:
    print(f"‚ùå Error: {response.status_code}")</code></pre>
    </div>

    <div id="tab-response-23" class="tab-content" style="position: relative;">
        <div id="image-response-23" style="padding: 15px; text-align: center; background: #1e1e1e;">
            <p style="color: #d4d4d4;">Click "Run" to see the image response...</p>
        </div>
    </div>

    <div id="tab-output-23" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-23')">üìã Copy</button>
        <div class="output-area" id="output-23">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-23">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def set_image_content(element_id, image_data, content_type='image/png'):
    """Display image from binary data"""
    el = document.getElementById(element_id)
    # Convert binary data to base64
    import base64
    b64_data = base64.b64encode(image_data).decode('utf-8')
    img_html = f'<img src="data:{content_type};base64,{b64_data}" style="max-width: 100%; height: auto; border: 1px solid #4a5568;" alt="Static map" />'
    el.innerHTML = img_html

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        if example_num in [22, 23]:
            resp_btn.innerText = "Image Response"
        else:
            resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_23(event):
    """Example: Resource Static Map"""
    output_id = "output-23"
    btn_id = "run-btn-23"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(23)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching static map for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/static-map")

        if response.status_code == 200:
            content_type = response.headers.get('Content-Type', 'image/png')

            # Display image in response tab
            set_image_content("image-response-23", response.content, content_type)
            mark_tab_complete("btn-tab-response-23")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Static map image for resource: {resource_id}")
            print_to_output(output_id, f"Content-Type: {content_type}")
            print_to_output(output_id, f"Image size: {len(response.content)} bytes")

            # Display image in output as well
            import base64
            b64_data = base64.b64encode(response.content).decode('utf-8')
            img_html = f'<div style="margin-top: 10px;"><img src="data:{content_type};base64,{b64_data}" style="max-width: 100%; height: auto; border: 1px solid #4a5568;" alt="Static map" /></div>'
            print_to_output(output_id, img_html, is_html=True)

            mark_tab_complete("btn-tab-output-23")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-23").onclick = example_23
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>


</details>

<details id="example-resource-thumbnail" class="example-collapsible">
<summary><strong>Resource ‚Äî Thumbnail</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Thumbnail</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get thumbnail information for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/thumbnail</code></p>

    <div class="tabs">
        <button id="btn-tab-python-24" class="tab-btn active"
            onclick="openTab(event, 'tab-python-24')">Python</button>
        <button id="btn-tab-response-24" class="tab-btn" onclick="openTab(event, 'tab-response-24')">API
            Response</button>
        <button id="btn-tab-output-24" class="tab-btn"
            onclick="openTab(event, 'tab-output-24')">Output</button>
    </div>

    <div id="tab-python-24" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-24')">üìã Copy</button>
        <pre><code id="code-24" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get thumbnail for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/thumbnail")
data = response.json()

print(f"Thumbnail for resource: {resource_id}")
print(f"Thumbnail URL: {data.get('thumbnail_url', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-24" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-24')">üìã Copy</button>
        <pre><code id="json-24" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-24" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-24')">üìã Copy</button>
        <div class="output-area" id="output-24">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-24">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_24(event):
    """Example: Resource Thumbnail"""
    output_id = "output-24"
    btn_id = "run-btn-24"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(24)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching thumbnail for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/thumbnail")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-24", data)
            mark_tab_complete("btn-tab-response-24")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Thumbnail for resource: {resource_id}")
            thumbnail_url = data.get('thumbnail_url', 'N/A')
            print_to_output(output_id, f"Thumbnail URL: {thumbnail_url}")

            mark_tab_complete("btn-tab-output-24")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-24").onclick = example_24
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>

<details id="example-resource-viewer" class="example-collapsible">
<summary><strong>Resource ‚Äî Viewer Data</strong></summary>

<div class="example-block">
    <div class="example-header">
        <h3>Resource Viewer Data</h3>
        <span class="badge">Resource</span>
    </div>
    <p><strong>Goal:</strong> Get viewer data for a resource.</p>
    <p><strong>Request:</strong> <code>GET /api/v1/resources/{id}/viewer</code></p>

    <div class="tabs">
        <button id="btn-tab-python-25" class="tab-btn active"
            onclick="openTab(event, 'tab-python-25')">Python</button>
        <button id="btn-tab-response-25" class="tab-btn" onclick="openTab(event, 'tab-response-25')">API
            Response</button>
        <button id="btn-tab-output-25" class="tab-btn"
            onclick="openTab(event, 'tab-output-25')">Output</button>
    </div>

    <div id="tab-python-25" class="tab-content active" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('code-25')">üìã Copy</button>
        <pre><code id="code-25" class="language-python">import requests
import json

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

# Get viewer data for a resource
resource_id = "ark28722-s7vs38"
response = requests.get(f"{BASE_URL}/resources/{resource_id}/viewer")
data = response.json()

print(f"Viewer data for resource: {resource_id}")
print(f"Viewer type: {data.get('viewer_type', 'N/A')}")
print(f"Viewer URL: {data.get('viewer_url', 'N/A')}")</code></pre>
    </div>

    <div id="tab-response-25" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('json-25')">üìã Copy</button>
        <pre><code id="json-25" class="json-area language-json">Click "Run" to see the API response...</code></pre>
    </div>

    <div id="tab-output-25" class="tab-content" style="position: relative;">
        <button class="copy-btn" onclick="copyCode('output-25')">üìã Copy</button>
        <div class="output-area" id="output-25">Click "Run" to see the output...</div>
    </div>

    <button class="run-btn" id="run-btn-25">‚ñ∂ Run Example</button>
</div>

<script type="py">
import json
import asyncio
from js import document, window, Prism
import pyodide_http
pyodide_http.patch_all()
import requests

BASE_URL = "https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1"

def print_to_output(output_id, text, is_html=False):
    output = document.getElementById(output_id)
    new_el = document.createElement("div")
    if is_html:
        new_el.innerHTML = text
    else:
        new_el.innerText = text
    output.appendChild(new_el)

def set_json_content(element_id, data):
    el = document.getElementById(element_id)
    el.textContent = json.dumps(data, indent=4)
    try:
        Prism.highlightElement(el)
    except Exception:
        pass

def mark_tab_complete(tab_btn_id):
    btn = document.getElementById(tab_btn_id)
    if btn and "‚úÖ" not in btn.innerText:
        btn.innerText = "‚úÖ " + btn.innerText

def reset_tab_marks(example_num):
    resp_btn = document.getElementById(f"btn-tab-response-{example_num}")
    if resp_btn:
        resp_btn.innerText = "API Response"
    out_btn = document.getElementById(f"btn-tab-output-{example_num}")
    if out_btn:
        out_btn.innerText = "Output"

async def reset_button(btn_id, new_text, original_text, delay=2):
    await asyncio.sleep(delay)
    btn = document.getElementById(btn_id)
    if btn:
        btn.innerText = original_text

def clear_output(output_id):
    document.getElementById(output_id).innerHTML = ""

def show_output(output_id):
    document.getElementById(output_id).classList.add("visible")

def disable_button(btn_id):
    document.getElementById(btn_id).disabled = True

def enable_button(btn_id):
    document.getElementById(btn_id).disabled = False


async def example_25(event):
    """Example: Resource Viewer Data"""
    output_id = "output-25"
    btn_id = "run-btn-25"
    btn = document.getElementById(btn_id)
    original_text = "‚ñ∂ Run Example"

    try:
        disable_button(btn_id)
        reset_tab_marks(25)
        btn.innerText = "‚è≥ Running..."
        await asyncio.sleep(0.1)

        clear_output(output_id)
        show_output(output_id)
        resource_id = "ark28722-s7vs38"
        print_to_output(output_id, f"üîÑ Running Example: Fetching viewer data for {resource_id}...")

        response = requests.get(f"{BASE_URL}/resources/{resource_id}/viewer")

        if response.status_code == 200:
            data = response.json()
            set_json_content("json-25", data)
            mark_tab_complete("btn-tab-response-25")

            print_to_output(output_id, f"‚úÖ Status: {response.status_code}")
            print_to_output(output_id, f"Viewer data for resource: {resource_id}")
            viewer_type = data.get('viewer_type', 'N/A')
            viewer_url = data.get('viewer_url', 'N/A')
            print_to_output(output_id, f"Viewer type: {viewer_type}")
            print_to_output(output_id, f"Viewer URL: {viewer_url}")

            mark_tab_complete("btn-tab-output-25")
            btn.innerText = "‚úÖ Complete!"
        else:
            print_to_output(output_id, f"‚ùå Error: {response.status_code}")
            print_to_output(output_id, response.text)
            btn.innerText = "‚ùå Error"

    except Exception as e:
        print_to_output(output_id, f"‚ùå Error: {str(e)}")
        btn.innerText = "‚ùå Error"
    finally:
        enable_button(btn_id)
        asyncio.create_task(reset_button(btn_id, "‚úÖ Complete!", original_text))


document.getElementById("run-btn-25").onclick = example_25
</script>

<script>
function copyCode(codeId) {
    const codeElement = document.getElementById(codeId);
    const text = codeElement.textContent;
    navigator.clipboard.writeText(text).then(() => {
        const btn = event.target;
        const originalText = btn.textContent;
        btn.textContent = '‚úì Copied!';
        btn.style.background = '#48bb78';
        setTimeout(() => {
            btn.textContent = originalText;
            btn.style.background = '#2d3748';
        }, 2000);
    });
}

function openTab(evt, tabId) {
    var btn = evt.currentTarget;
    var container = btn.closest('.example-block');
    var tabContents = container.getElementsByClassName("tab-content");
    for (var i = 0; i < tabContents.length; i++) {
        tabContents[i].classList.remove("active");
    }
    var tabBtns = container.getElementsByClassName("tab-btn");
    for (var i = 0; i < tabBtns.length; i++) {
        tabBtns[i].classList.remove("active");
    }
    document.getElementById(tabId).classList.add("active");
    btn.classList.add("active");
}
</script>



</details>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2025 BTAA GIN
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/geobtaa/ld" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.sections", "content.tooltips", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "content.code.copy"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>