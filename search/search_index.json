{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"BTAA Geospatial API &amp; Linked Data","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Welcome to the BTAA Geospatial API and linked data homepage. This comprehensive platform provides both a RESTful API for geospatial metadata discovery and a collection of linked data assets for the Big Ten Academic Alliance (BTAA) geospatial data infrastructure.</p>"},{"location":"#overview","title":"Overview","text":"<p>The BTAA Geospatial API platform consists of two primary components: 1) the BTAA Geospatial API and 2) our Linked Data Assets</p> <p></p>"},{"location":"#btaa-geospatial-api-presentation","title":"BTAA Geospatial API Presentation","text":"<p>Review a slide deck from the original presentation. Google Slides - BTAA Geospatial API</p>"},{"location":"#btaa-geospatial-api","title":"BTAA Geospatial API","text":"<p>A read-only, OpenGeoMetadata API-compliant web service for programmatically accessing, searching, and retrieving metadata records that conform to the BTAA GIN's extended-OGM Aardvark schema.</p> <p>BTAA Geospatial API Specification </p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>RESTful Design - Predictable, cache-friendly URLs</li> <li>OpenGeoMetadata API Compliance - Built on open standards</li> <li>Faceted Spatial Search - Full-text, faceted geospatial discovery</li> <li>Structured Metadata - JSON-LD formatted responses</li> <li>Client-Friendly - Powers search interfaces and GIS applications</li> </ul>"},{"location":"#linked-data-assets","title":"Linked Data Assets","text":"<p>A collection of semantic web resources that provide standardized data models and schemas for BTAA geospatial metadata.</p> <p>Linked Data Asset Documentation </p> <p>Available Assets:</p> <ul> <li>Contexts - JSON-LD context files for data modeling</li> <li>Profiles - JSON-LD data profiles and specifications</li> <li>Schemas - JSON Schema definitions for validation</li> </ul>"},{"location":"#quick-start","title":"Quick Start","text":""},{"location":"#for-api-users","title":"For API Users","text":"<ol> <li>Read the API Documentation - Complete specification and examples</li> <li>Check Authentication - API key requirements</li> <li>Explore Endpoints - Available API operations</li> <li>Review Rate Limits - Usage guidelines</li> </ol>"},{"location":"#for-linked-data-developers","title":"For Linked Data Developers","text":"<ol> <li>Browse Linked Data Assets - Contexts, profiles, and schemas</li> <li>Check Schemas - JSON Schema validation</li> <li>Review API Reference - Technical specifications</li> <li>Explore Standards - Compliance and interoperability</li> </ol>"},{"location":"#use-cases","title":"Use Cases","text":""},{"location":"#academic-libraries","title":"Academic Libraries","text":"<ul> <li>Power geospatial discovery interfaces, like the BTAA Geoportal</li> <li>Integrate with existing library systems</li> <li>Provide standardized metadata access</li> </ul>"},{"location":"#researchers","title":"Researchers","text":"<ul> <li>Automate metadata discovery workflows</li> <li>Access structured geospatial data</li> <li>Build reproducible research pipelines</li> </ul>"},{"location":"#developers","title":"Developers","text":"<ul> <li>Create GIS applications and plugins</li> <li>Build search and discovery tools</li> <li>Integrate with existing geospatial workflows</li> </ul>"},{"location":"#data-providers","title":"Data Providers","text":"<ul> <li>Standardized metadata formats</li> <li>Ensure interoperability</li> <li>Improve data discoverability</li> </ul>"},{"location":"#example-api-integrations","title":"Example API Integrations","text":""},{"location":"#btaa-geoportal-new-react-frontend","title":"BTAA Geoportal (New React Frontend)","text":"<p>A prototype React frontend was created to display the feature parity of the new backend API with GeoBlacklight.</p> <p></p>"},{"location":"#qgis-plugin","title":"QGIS Plugin","text":"<p>A prototype QGIS Plugin was developed to display the potential to reuse and integrate GeoBTAA data directly into the tools GIS researchers use on a daily basis.</p> <p></p>"},{"location":"#claude-desktop-mcp-integration","title":"Claude Desktop (MCP Integration)","text":"<p>A proof-of-concept integration into Claude Desktop displays the potential for integrating GeoBTAA resources into cutting-edge AI/LLM research tools.</p> <p></p>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#api-access","title":"API Access","text":"<pre><code># Example API request\ncurl -H \"Authorization: Bearer YOUR_API_KEY\" \\\n     https://api.geobtaa.org/resources\n</code></pre>"},{"location":"#support-community","title":"Support &amp; Community","text":"<ul> <li>Contact Us: Feedback</li> <li>Issues: GitHub Issues</li> <li>Discussions: GitHub Discussions</li> <li>Documentation: API Reference</li> </ul> <p>This project is part of the Big Ten Academic Alliance Geospatial Data Infrastructure. </p>"},{"location":"api/","title":"API Reference","text":"<p>This document provides technical reference information for working with the BTAA Geospatial linked data assets.</p>"},{"location":"api/#json-ld-contexts","title":"JSON-LD Contexts","text":""},{"location":"api/#core-context","title":"Core Context","text":"<p>File: <code>contexts/core.jsonld</code></p> <p>Standard context for basic linked data operations.</p> <pre><code>{\n  \"@context\": {\n    \"@vocab\": \"https://schema.org/\",\n    \"dc\": \"http://purl.org/dc/terms/\",\n    \"geo\": \"http://www.opengis.net/ont/geosparql#\",\n    \"prov\": \"http://www.w3.org/ns/prov#\",\n    \"geobtaa\": \"https://geobtaa.org/ontology#\"\n  }\n}\n</code></pre>"},{"location":"api/#geospatial-context","title":"Geospatial Context","text":"<p>File: <code>contexts/geospatial.jsonld</code></p> <p>Specialized context for geospatial data.</p> <pre><code>{\n  \"@context\": {\n    \"@vocab\": \"https://schema.org/\",\n    \"geo\": \"http://www.opengis.net/ont/geosparql#\",\n    \"wgs84\": \"http://www.w3.org/2003/01/geo/wgs84_pos#\",\n    \"geojson\": \"https://purl.org/geojson/vocab#\",\n    \"geobtaa\": \"https://geobtaa.org/ontology#\"\n  }\n}\n</code></pre>"},{"location":"api/#vocabulary-apis","title":"Vocabulary APIs","text":""},{"location":"api/#subject-classification","title":"Subject Classification","text":"<p>File: <code>vocabularies/subjects.jsonld</code></p> <pre><code>{\n  \"@context\": \"https://schema.org/\",\n  \"@type\": \"DefinedTermSet\",\n  \"@id\": \"https://geobtaa.org/vocabularies/subjects\",\n  \"name\": \"BTAA Geospatial Subject Classification\",\n  \"hasDefinedTerm\": [\n    {\n      \"@type\": \"DefinedTerm\",\n      \"@id\": \"https://\n      // .org/vocabularies/subjects/GEOGRAPHY\",\n      \"termCode\": \"GEOGRAPHY\",\n      \"name\": \"Geography\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/#geographic-classification","title":"Geographic Classification","text":"<p>File: <code>vocabularies/geographic.jsonld</code></p> <pre><code>{\n  \"@context\": \"https://schema.org/\",\n  \"@type\": \"DefinedTermSet\",\n  \"@id\": \"https://geobtaa.org/vocabularies/geographic\",\n  \"name\": \"BTAA Geospatial Geographic Classification\",\n  \"hasDefinedTerm\": [\n    {\n      \"@type\": \"DefinedTerm\",\n      \"@id\": \"https://geobtaa.org/vocabularies/geographic/MIDWEST\",\n      \"termCode\": \"MIDWEST\",\n      \"name\": \"Midwest United States\"\n    }\n  ]\n}\n</code></pre>"},{"location":"api/#ontology-apis","title":"Ontology APIs","text":""},{"location":"api/#core-ontology","title":"Core Ontology","text":"<p>File: <code>ontologies/core.ttl</code></p> <p>Namespace: <code>https://geobtaa.org/ontology#</code></p> <p>Classes: - <code>geobtaa:Dataset</code> - Geospatial dataset - <code>geobtaa:Collection</code> - Dataset collection - <code>geobtaa:Service</code> - Geospatial service</p> <p>Properties: - <code>geobtaa:spatialCoverage</code> - Geographic extent - <code>geobtaa:temporalCoverage</code> - Time period - <code>geobtaa:dataQuality</code> - Quality metrics</p>"},{"location":"api/#provenance-ontology","title":"Provenance Ontology","text":"<p>File: <code>ontologies/provenance.ttl</code></p> <p>Namespace: <code>https://geobtaa.org/ontology#</code></p> <p>Classes: - <code>geobtaa:ProcessingStep</code> - Data processing activity - <code>geobtaa:DataDerivation</code> - Data lineage</p> <p>Properties: - <code>geobtaa:derivedFrom</code> - Source dataset - <code>geobtaa:processingMethod</code> - Processing technique</p>"},{"location":"api/#validation-apis","title":"Validation APIs","text":""},{"location":"api/#context-validation","title":"Context Validation","text":"<pre><code>import json\nfrom jsonschema import validate\n\ndef validate_context(context_file):\n    \"\"\"Validate JSON-LD context structure.\"\"\"\n    with open(context_file) as f:\n        context = json.load(f)\n\n    # Basic context validation\n    assert \"@context\" in context\n    return True\n</code></pre>"},{"location":"api/#vocabulary-validation","title":"Vocabulary Validation","text":"<pre><code>def validate_vocabulary(vocab_file):\n    \"\"\"Validate vocabulary structure.\"\"\"\n    with open(vocab_file) as f:\n        vocab = json.load(f)\n\n    # Vocabulary validation rules\n    assert vocab[\"@type\"] == \"DefinedTermSet\"\n    assert \"hasDefinedTerm\" in vocab\n    return True\n</code></pre>"},{"location":"api/#ontology-validation","title":"Ontology Validation","text":"<pre><code>import rdflib\n\ndef validate_ontology(ontology_file):\n    \"\"\"Validate ontology structure.\"\"\"\n    g = rdflib.Graph()\n    g.parse(ontology_file, format=\"turtle\")\n\n    # Check for basic ontology elements\n    classes = list(g.subjects(rdflib.RDF.type, rdflib.OWL.Class))\n    properties = list(g.subjects(rdflib.RDF.type, rdflib.OWL.ObjectProperty))\n\n    return len(classes) &gt; 0\n</code></pre>"},{"location":"api/#http-apis","title":"HTTP APIs","text":""},{"location":"api/#content-negotiation","title":"Content Negotiation","text":"<p>All resources support content negotiation:</p> <pre><code># Get JSON-LD\ncurl -H \"Accept: application/ld+json\" \\\n     https://geobtaa.org/contexts/core\n\n# Get Turtle\ncurl -H \"Accept: text/turtle\" \\\n     https://geobtaa.org/ontologies/core\n\n# Get RDF/XML\ncurl -H \"Accept: application/rdf+xml\" \\\n     https://geobtaa.org/vocabularies/subjects\n</code></pre>"},{"location":"api/#sparql-endpoint","title":"SPARQL Endpoint","text":"<p>Query the ontologies via SPARQL:</p> <pre><code>curl -X POST \\\n     -H \"Content-Type: application/sparql-query\" \\\n     -d \"SELECT ?s ?p ?o WHERE { ?s ?p ?o } LIMIT 10\" \\\n     https://geobtaa.org/sparql\n</code></pre>"},{"location":"api/#error-codes","title":"Error Codes","text":"Code Description 400 Bad Request - Invalid syntax 404 Not Found - Resource doesn't exist 406 Not Acceptable - Unsupported format 500 Internal Server Error"},{"location":"api/#rate-limits","title":"Rate Limits","text":"<ul> <li>Anonymous: 100 requests/hour</li> <li>Authenticated: 1000 requests/hour</li> <li>API Key: 10000 requests/hour </li> </ul>"},{"location":"api/requests/","title":"Requests (Endpoints)","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>JSON-LD context for search requests:</p> <ul> <li>Future: https://opengeometadata/api/search/1.0/context/request.json </li> <li>Draft PR: Online here</li> </ul>"},{"location":"api/requests/#service-document","title":"Service Document","text":"Method Path Description GET <code>/service</code> Returns API metadata, conformance, contact, and example URLs."},{"location":"api/requests/#list-resources","title":"List Resources","text":"Method Path Notes GET <code>/resources/</code> Returns a list of Aardvark records. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID <code>page</code> integer Current page of results <code>per_page</code> integer Number of results to return <code>fields</code> string (CSV) Subset of fields to include"},{"location":"api/requests/#resource-retrieval","title":"Resource Retrieval","text":"Method Path Notes GET <code>/resources/{id}</code> Returns a single Aardvark record, wrapped in JSON:API frontmatter. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID <code>fields</code> string (CSV) Subset of fields to include"},{"location":"api/requests/#resource-distributions","title":"Resource Distributions","text":"Method Path Notes GET <code>/resources/{id}/distributions</code> Returns distribution information for a resource. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#resource-links","title":"Resource Links","text":"Method Path Notes GET <code>/resources/{id}/links</code> Returns link information for a resource. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#resource-ogm-aardvark-retrieval","title":"Resource OGM Aardvark Retrieval","text":"Method Path Notes GET <code>/resources/{id}/ogm</code> Returns a single raw Aardvark record. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID <code>fields</code> string (CSV) Subset of fields to include"},{"location":"api/requests/#resource-relationships","title":"Resource Relationships","text":"Method Path Notes GET <code>/resources/{id}/relationships</code> Returns relationship information for a resource. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#resource-spatial-facets","title":"Resource Spatial Facets","text":"Method Path Notes GET <code>/resources/{id}/spatial_facets</code> Returns spatial facet information for a resource. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#resource-summaries","title":"Resource Summaries","text":"Method Path Notes GET <code>/resources/{id}/summaries</code> Returns summary information for a resource. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#resource-ogm-viewer-retrieval","title":"Resource OGM Viewer Retrieval","text":"Method Path Notes GET <code>/resources/{id}/viewer</code> Returns the Aardvark record presented in the OGM Viewer. <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID"},{"location":"api/requests/#search","title":"Search","text":"<p>Supports both GET (simple) and POST (complex) forms.</p>"},{"location":"api/requests/#get-search","title":"GET <code>/search</code>","text":"Parameter Type Description <code>q</code> string Full\u2011text query (default <code>*:*</code>). <code>fq</code> object Active facet include filters (same as include_filters) <code>search_field</code> string (CSV) Search field (all_fields [default], etc.) <code>page</code> integer Current page of results <code>per_page</code> integer Number of results to return <code>sort</code> string Sort option (relevance, year_desc, year_asc, title_asc, title_desc) <code>format</code> string Format option (JSON [default], JSONP) <code>callback</code> string JSONP callback name <code>fields</code> string (CSV) List of fields to return <code>facets</code> string (CSV) List of facets to return <code>include_filters</code> object Active facet include filters (same as fq) <code>exclude_filters</code> object Active facet exclude filters <code>meta</code> boolean Include META (default true) <p>Example requests:</p> <ul> <li>GET /api/v1/search?q=soil+survey\\&amp;per_page=20</li> <li>GET /api/v1/search??q=seattle&amp;include_filters%5Bgbl_resourceClass_sm%5D%5B%5D=Maps</li> <li>GET /api/v1/search?q=seattle&amp;exclude_filters%5Bdct_spatial_sm%5D%5B%5D=Iowa</li> <li>GET /api/v1/search?q=transportation&amp;search_field=dct_subject_sm</li> </ul>"},{"location":"api/requests/#post-search","title":"POST <code>/search</code>","text":"<p>Accepts a JSON body with the same parameters plus structured filters.</p> <pre><code>{\n  \"q\": \"land cover\",\n  \"include_filters\": {\n    \"dct_provenance_s\": [\"Minnesota\"],\n    \"gbl_resourceClass_sm\": [\"Datasets\"]\n  },\n  \"page\": 1,\n  \"per_page\": 50,\n  \"sort\": \"year_desc\"\n}\n</code></pre>"},{"location":"api/requests/#geospatial-search","title":"Geospatial Search","text":"<p>Support for geospatial queries:</p> <ul> <li>Bounding Box  </li> <li>Distance-Radius  </li> <li>Polygon  </li> <li>Shape + Relation</li> </ul>"},{"location":"api/requests/#bounding-box-bbox","title":"Bounding Box (bbox)","text":"<p>GET /search?q=land+cover\\ \\&amp;include_filters[geo][type]=bbox\\ \\&amp;include_filters[geo][field]=dcat_centroid\\ \\&amp;include_filters[geo][top_left][lat]=45.1\\ \\&amp;include_filters[geo][top_left][lon]=-94.0\\ \\&amp;include_filters[geo][bottom_right][lat]=44.7\\ \\&amp;include_filters[geo][bottom_right][lon]=-92.9\\ \\&amp;limit=50\\ \\&amp;sort=dct_temporal_sm%20desc</p> <p>POST (<code>application/json</code>)</p> <pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"bbox\",\n      \"field\": \"dcat_centroid\",\n      \"top_left\":     { \"lat\": 45.1, \"lon\": -94.0 },\n      \"bottom_right\": { \"lat\": 44.7, \"lon\": -92.9 }\n    }\n  },\n  \"limit\": 50,\n  \"sort\": \"dct_temporal_sm desc\"\n}\n</code></pre>"},{"location":"api/requests/#distance-radius-distance","title":"Distance-Radius (<code>distance</code>)","text":"<p>GET /search?q=land+cover\\ \\&amp;include_filters[geo][type]=distance\\ \\&amp;include_filters[geo][field]=dcat_centroid\\ \\&amp;include_filters[geo][center][lat]=44.98\\ \\&amp;include_filters[geo][center][lon]=-93.27\\ \\&amp;include_filters[geo][distance]=25km\\ \\&amp;limit=50</p> <p>POST</p> <pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"distance\",\n      \"field\": \"dcat_centroid\",\n      \"center\":   { \"lat\": 44.98, \"lon\": -93.27 },\n      \"distance\": \"25km\"\n    }\n  },\n  \"limit\": 50\n}\n</code></pre>"},{"location":"api/requests/#polygon-polygon","title":"Polygon (<code>polygon</code>)","text":"<p>GET /search?q=land+cover\\ \\&amp;include_filters[geo][type]=polygon\\ \\&amp;include_filters[geo][field]=locn_geometry\\ \\&amp;include_filters[geo][points][0][lat]=44.9\\ \\&amp;include_filters[geo][points][0][lon]=-93.4\\ \\&amp;include_filters[geo][points][1][lat]=45.2\\ \\&amp;include_filters[geo][points][1][lon]=-93.2\\ \\&amp;include_filters[geo][points][2][lat]=45.0\\ \\&amp;include_filters[geo][points][2][lon]=-92.8</p> <p>(Add more <code>points[n]</code> pairs for polygons with &gt;3 vertices.)</p> <p>POST</p> <pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"polygon\",\n      \"field\": \"locn_geometry\",\n      \"points\": [\n        { \"lat\": 44.9, \"lon\": -93.4 },\n        { \"lat\": 45.2, \"lon\": -93.2 },\n        { \"lat\": 45.0, \"lon\": -92.8 }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"api/requests/#shape-shape-relation","title":"Shape (<code>shape</code> + relation)","text":"<p>Relation options:</p> <ul> <li>intersects  </li> <li>disjoint  </li> <li>within  </li> <li>contains</li> </ul> <p>GET /search?q=land+cover\\ \\&amp;include_filters[geo][type]=shape\\ \\&amp;include_filters[geo][field]=locn_geometry\\ \\&amp;include_filters[geo][relation]=within\\ \\&amp;include_filters[geo][shape][type]=envelope\\ \\&amp;include_filters[geo][shape][coordinates][0][0]=-94\\ \\&amp;include_filters[geo][shape][coordinates][0][1]=46\\ \\&amp;include_filters[geo][shape][coordinates][1][0]=-92\\ \\&amp;include_filters[geo][shape][coordinates][1][1]=44</p> <p>(Here the shape is a GeoJSON-style envelope; any GeoJSON geometry works.)</p> <p>POST</p> <pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"shape\",\n      \"field\": \"locn_geometry\",\n      \"relation\": \"within\",\n      \"shape\": {\n        \"type\": \"envelope\",\n        \"coordinates\": [[-94, 46], [-92, 44]]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"api/requests/#model-context-protocol","title":"Model Context Protocol","text":"<p>Endpoint for MCP service information and connection details.</p>"},{"location":"api/requests/#get-mcp","title":"GET /mcp","text":"Method Path Description GET <code>/mcp</code> MCP service information and connection details."},{"location":"api/requests/#validation-endpoint","title":"Validation Endpoint","text":"<p>TODO \u2014\u00a0How can this validate CSVs via Table Schema</p> <p>This endpoint allows clients to POST a single metadata record (as a JSON object) and receive a validation report indicating whether it conforms to the OpenGeoMetadata Aardvark schema.</p> Method Path Description POST /validate Validate a single Aardvark JSON record"},{"location":"api/requests/#request-body","title":"Request Body","text":"<pre><code>{\n  \"data\": {\n    \"type\": \"resource\",\n    \"attributes\": {\n      \"id\": \"stanford-abc123\",\n      \"dct_title_s\": \"Sample Map\",\n      \"gbl_resourceClass_sm\": [\"Maps\"],\n      \"dct_accessRights_s\": \"Public\",\n      \"gbl_mdVersion_s\": \"Aardvark\",\n      \"gbl_mdModified_dt\": \"2025-07-20T18:43:00Z\"\n      // ... other fields ...\n    }\n  }\n}\n</code></pre> <ul> <li>The body MUST be a single JSON object using type: \"resource\" and an attributes map.  </li> <li>The record MUST be structured according to the Aardvark profile defined at: https://opengeometadata.org/schema/geoblacklight-schema-aardvark.json</li> </ul>"},{"location":"api/requests/#response","title":"Response","text":"<p>If the record is valid:</p> <pre><code>{\n  \"valid\": true,\n  \"errors\": [],\n  \"warnings\": [],\n  \"profile\": [\n    \"https://opengeometadata.org/profile/aardvark\",\n    \"https://opengeometadata.org/profile/mcp/validate\"\n  ]\n}\n</code></pre> <p>}</p> <p>If the record is invalid:</p> <pre><code>{\n  \"valid\": false,\n  \"errors\": [\n    {\n      \"field\": \"dct_title_s\",\n      \"message\": \"This field is required and must be a string.\"\n    },\n    {\n      \"field\": \"gbl_mdVersion_s\",\n      \"message\": \"Value must be 'Aardvark'.\"\n    }\n  ],\n  \"warnings\": [],\n  \"profile\": [\n    \"https://opengeometadata.org/profile/aardvark\",\n    \"https://opengeometadata.org/profile/mcp/validate\"\n  ]\n}\n</code></pre>"},{"location":"api/requests/#notes","title":"Notes","text":"<ul> <li>This endpoint is non-mutating \u2014 it does not store or alter the record.  </li> <li>It is useful for QA tools, CI pipelines, and metadata editors.  </li> <li>The server SHOULD use a strict JSON Schema validator and MAY support additional lint rules or MCP profiles.</li> </ul>"},{"location":"api/requests/#todos","title":"TODOs","text":"<ul> <li>Support JSON POSTS in API</li> </ul>"},{"location":"includes/wip/","title":"Wip","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"includes/requests/bbox-get-example/","title":"Bbox get example","text":"<pre><code>GET /search?q=land+cover\\\\  \n\\&amp;include_filters\\[geo\\]\\[type\\]=bbox\\\\  \n\\&amp;include_filters\\[geo\\]\\[field\\]=dcat_centroid\\\\  \n\\&amp;include_filters\\[geo\\]\\[top\\_left\\]\\[lat\\]=45.1\\\\  \n\\&amp;include_filters\\[geo\\]\\[top\\_left\\]\\[lon\\]=-94.0\\\\  \n\\&amp;include_filters\\[geo\\]\\[bottom\\_right\\]\\[lat\\]=44.7\\\\  \n\\&amp;include_filters\\[geo\\]\\[bottom\\_right\\]\\[lon\\]=-92.9\\\\  \n\\&amp;limit=50\\\\  \n\\&amp;sort=dct\\_temporal\\_sm%20desc\n</code></pre>"},{"location":"includes/requests/bbox-post-example/","title":"Bbox post example","text":"<pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"bbox\",\n      \"field\": \"dcat_centroid\",\n      \"top_left\":     { \"lat\": 45.1, \"lon\": -94.0 },\n      \"bottom_right\": { \"lat\": 44.7, \"lon\": -92.9 }\n    }\n  },\n  \"limit\": 50,\n  \"sort\": \"dct_temporal_sm desc\"\n}\n</code></pre>"},{"location":"includes/requests/distance-get-example/","title":"Distance get example","text":"<pre><code>GET /search?q=land+cover\\\\  \n\\&amp;include_filters\\[geo\\]\\[type\\]=distance\\\\  \n\\&amp;include_filters\\[geo\\]\\[field\\]=dcat_centroid\\\\  \n\\&amp;include_filters\\[geo\\]\\[center\\]\\[lat\\]=44.98\\\\  \n\\&amp;include_filters\\[geo\\]\\[center\\]\\[lon\\]=-93.27\\\\  \n\\&amp;include_filters\\[geo\\]\\[distance\\]=25km\\\\  \n\\&amp;limit=50\n</code></pre>"},{"location":"includes/requests/distance-post-example/","title":"Distance post example","text":"<pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"distance\",\n      \"field\": \"dcat_centroid\",\n      \"center\":   { \"lat\": 44.98, \"lon\": -93.27 },\n      \"distance\": \"25km\"\n    }\n  },\n  \"limit\": 50\n}\n</code></pre>"},{"location":"includes/requests/polygon-get-example/","title":"Polygon get example","text":"<pre><code>GET /search?q=land+cover\\\\  \n\\&amp;include_filters\\[geo\\]\\[type\\]=polygon\\\\  \n\\&amp;include_filters\\[geo\\]\\[field\\]=locn_geometry\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[0\\]\\[lat\\]=44.9\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[0\\]\\[lon\\]=-93.4\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[1\\]\\[lat\\]=45.2\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[1\\]\\[lon\\]=-93.2\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[2\\]\\[lat\\]=45.0\\\\  \n\\&amp;include_filters\\[geo\\]\\[points\\]\\[2\\]\\[lon\\]=-92.8\n</code></pre>"},{"location":"includes/requests/polygon-post-example/","title":"Polygon post example","text":"<pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"polygon\",\n      \"field\": \"locn_geometry\",\n      \"points\": [\n        { \"lat\": 44.9, \"lon\": -93.4 },\n        { \"lat\": 45.2, \"lon\": -93.2 },\n        { \"lat\": 45.0, \"lon\": -92.8 }\n      ]\n    }\n  }\n}\n</code></pre>"},{"location":"includes/requests/post-search-example/","title":"Post search example","text":"<pre><code>curl -s -X POST '/api/v1/search' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"q\": \"land cover\",\n    \"per_page\": 10,\n    \"include_filters\": {\n      \"geo\": {\n        \"type\": \"distance\",\n        \"field\": \"dcat_centroid\",\n        \"center\": {\"lat\": 44.98, \"lon\": -93.27},\n        \"distance\": \"25km\"\n      }\n    }\n  }'\n</code></pre>"},{"location":"includes/requests/search-facets-example/","title":"Search facets example","text":"<pre><code>curl -X 'GET' \\\n  'http://localhost:8000/api/v1/search/facets/gbl_resourceClass_sm?page=1&amp;per_page=10&amp;sort=count_desc' \\\n  -H 'accept: application/json'\n</code></pre>"},{"location":"includes/requests/search-suggestions-example/","title":"Search suggestions example","text":"<pre><code>curl -X 'GET' \\\n  'http://localhost:8000/api/v1/suggest?q=Minnesota' \\\n  -H 'accept: application/json'\n</code></pre>"},{"location":"includes/requests/shape-get-example/","title":"Shape get example","text":"<pre><code>GET /search?q=land+cover\\\\  \n\\&amp;include_filters\\[geo\\]\\[type\\]=shape\\\\  \n\\&amp;include_filters\\[geo\\]\\[field\\]=locn_geometry\\\\  \n\\&amp;include_filters\\[geo\\]\\[relation\\]=within\\\\  \n\\&amp;include_filters\\[geo\\]\\[shape\\]\\[type\\]=envelope\\\\  \n\\&amp;include_filters\\[geo\\]\\[shape\\]\\[coordinates\\]\\[0\\]\\[0\\]=-94\\\\  \n\\&amp;include_filters\\[geo\\]\\[shape\\]\\[coordinates\\]\\[0\\]\\[1\\]=46\\\\  \n\\&amp;include_filters\\[geo\\]\\[shape\\]\\[coordinates\\]\\[1\\]\\[0\\]=-92\\\\  \n\\&amp;include_filters\\[geo\\]\\[shape\\]\\[coordinates\\]\\[1\\]\\[1\\]=44\n</code></pre>"},{"location":"includes/requests/shape-post-example/","title":"Shape post example","text":"<pre><code>{\n  \"q\": \"land cover\",\n  \"filters\": {\n    \"geo\": {\n      \"type\": \"shape\",\n      \"field\": \"locn_geometry\",\n      \"relation\": \"within\",\n      \"shape\": {\n        \"type\": \"envelope\",\n        \"coordinates\": [[-94, 46], [-92, 44]]\n      }\n    }\n  }\n}\n</code></pre>"},{"location":"includes/requests/validation-request-body-example/","title":"Validation request body example","text":"<pre><code>{\n  \"data\": {\n    \"type\": \"resource\",\n    \"attributes\": {\n      \"id\": \"stanford-abc123\",\n      \"dct_title_s\": \"Sample Map\",\n      \"gbl_resourceClass_sm\": [\"Maps\"],\n      \"dct_accessRights_s\": \"Public\",\n      \"gbl_mdVersion_s\": \"Aardvark\",\n      \"gbl_mdModified_dt\": \"2025-07-20T18:43:00Z\"\n      // ... other fields ...\n    }\n  }\n}\n</code></pre>"},{"location":"includes/requests/validation-response-invalid-example/","title":"Validation response invalid example","text":"<pre><code>{\n  \"valid\": false,\n  \"errors\": [\n    {\n      \"field\": \"dct_title_s\",\n      \"message\": \"This field is required and must be a string.\"\n    },\n    {\n      \"field\": \"gbl_mdVersion_s\",\n      \"message\": \"Value must be 'Aardvark'.\"\n    }\n  ],\n  \"warnings\": [],\n  \"profile\": [\n    \"https://opengeometadata.org/profile/aardvark\",\n    \"https://opengeometadata.org/profile/mcp/validate\"\n  ]\n}\n</code></pre>"},{"location":"includes/requests/validation-response-valid-example/","title":"Validation response valid example","text":"<pre><code>{\n  \"valid\": true,\n  \"errors\": [],\n  \"warnings\": [],\n  \"profile\": [\n    \"https://opengeometadata.org/profile/aardvark\",\n    \"https://opengeometadata.org/profile/mcp/validate\"\n  ]\n}\n</code></pre>"},{"location":"linked-data/","title":"BTAA Geospatial Linked Data","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"linked-data/#overview","title":"Overview","text":"<p>The Linked Data section of this site describes our linked data assets:</p> <ul> <li>JSON-LD Contexts: Dictionaries that tell computers what each field in your JSON means by pointing to shared web definitions.</li> <li>JSON-LD Profiles: Rulebooks for that says which fields you should include and how to use them.</li> <li>JSON Schemas: Checklists for validating your JSON\u2014what fields are allowed, their types, and which ones are required.</li> </ul>"},{"location":"linked-data/#why-linked-data","title":"Why Linked Data?","text":"<p>These files are the \"glue\" that makes our BTAA Geospatial API data dependable and reusable across tools and campuses. </p> <p>Contexts give shared meaning to each field so QGIS, web apps, and aggregators all \"speak the same language\". When you see <code>dct_title_s</code> in our API response, the context tells you it means \"Dublin Core title\" and points to the official definition.</p> <p>Profiles set the rules for what a valid record must include, so results are consistent and interoperable. They ensure that every geospatial resource has the essential metadata needed for discovery and use.</p> <p>JSON Schemas enforce those rules automatically, catching mistakes early and keeping the API trustworthy. They validate that required fields are present, data types are correct, and values meet our standards.</p>"},{"location":"linked-data/#the-big-picture","title":"The Big Picture","text":"<p>Together, these linked data assets enable:</p> <ul> <li>Clean harvesting: Aggregators can confidently pull data knowing it follows consistent patterns</li> <li>Easier integrations: Developers can build tools that work with our API without guessing what fields mean</li> <li>Better search: Search engines understand the semantic meaning of our metadata</li> <li>Long-term stability: Versioned schemas and contexts ensure data remains usable as technology evolves</li> </ul>"},{"location":"linked-data/#our-approach","title":"Our Approach","text":"<p>We plan to be very good stewards of this data. This means:</p> <ul> <li>Standards-based: Building on established vocabularies like OpenGeoMetadata and Schema.org</li> <li>Well-documented: Clear explanations of what each field means and how to use it</li> <li>Versioned: Careful management of changes to maintain backward compatibility</li> <li>Community-driven: Working with the broader geospatial and library communities</li> </ul>"},{"location":"linked-data/#available-assets","title":"Available Assets","text":""},{"location":"linked-data/#contexts","title":"Contexts","text":"<p>JSON-LD context files that define the vocabulary and structure of our metadata: - OGM Aardvark Context: Core OpenGeoMetadata Aardvark schema with BTAA extensions - OGM UI Context: UI-specific terms for viewer integration and citation display</p>"},{"location":"linked-data/#profiles","title":"Profiles","text":"<p>Rulebooks that define how to use our vocabularies for specific use cases: - OGM Aardvark Profile: Comprehensive geospatial resource description with BTAA extensions - OGM UI Hints Profile: UI integration and viewer specifications</p>"},{"location":"linked-data/#schemas","title":"Schemas","text":"<p>JSON Schema validation files that enforce data quality: - OGM Aardvark Schema: Structural validation for geospatial resource records</p>"},{"location":"linked-data/#getting-started","title":"Getting Started","text":"<ol> <li>Start with Contexts: Understand what each field in our API responses means</li> <li>Review Profiles: Learn the rules for creating valid metadata records</li> <li>Use Schemas: Validate your data to ensure it meets our standards</li> <li>Build Tools: Create applications that leverage our structured, semantic data</li> </ol>"},{"location":"linked-data/#standards-and-best-practices","title":"Standards and Best Practices","text":"<p>We adhere to established standards and best practices:</p> <ul> <li>JSON-LD for data serialization</li> <li>OpenGeoMetadata for geospatial metadata standards</li> <li>JSON Schema for validation</li> </ul>"},{"location":"linked-data/#contact","title":"Contact","text":"<p>For questions about our linked data assets or to contribute, please: - Open an issue on GitHub - Contact the BTAA Geospatial Data Working Group - Join our community discussions </p>"},{"location":"linked-data/contexts/","title":"Contexts","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>JSON-LD contexts provide mappings between terms used in JSON documents and IRIs. They are essential for creating interoperable linked data and ensuring consistent data interpretation across different systems.</p>"},{"location":"linked-data/contexts/#overview","title":"Overview","text":"<p>Contexts in this repository define:</p> <ul> <li>Term mappings: Short names for IRIs used in metadata records</li> <li>Type coercions: Automatic type conversion for dates, booleans, and other data types</li> <li>Container specifications: How arrays and sets should be handled</li> <li>Namespace prefixes: Short prefixes for common vocabularies and ontologies</li> </ul>"},{"location":"linked-data/contexts/#available-contexts","title":"Available Contexts","text":""},{"location":"linked-data/contexts/#btaa-aardvark-context","title":"BTAA Aardvark Context","text":"<p>The primary context for GeoBTAA metadata records, extending the OpenGeoMetadata Aardvark schema with BTAA-specific elements.</p> <p>File: <code>https://gin.btaa.org/api/v1/ld/contexts/ogm-aardvark-btaa.context.jsonld</code></p> <p>This context provides mappings for:</p>"},{"location":"linked-data/contexts/#core-aardvark-elements","title":"Core Aardvark Elements","text":"<ul> <li>Identifiers: <code>id_</code> \u2192 <code>dct:identifier</code></li> <li>Titles &amp; Descriptions: <code>dct_title_s</code>, <code>dct_alternative_sm</code>, <code>dct_description_sm</code></li> <li>Agents: <code>dct_creator_sm</code>, <code>dct_publisher_sm</code>, <code>schema_provider_s</code></li> <li>Subjects &amp; Keywords: <code>dct_subject_sm</code>, <code>dcat_keyword_sm</code></li> <li>Languages: <code>dct_language_sm</code></li> </ul>"},{"location":"linked-data/contexts/#resource-classification","title":"Resource Classification","text":"<ul> <li>Resource Types: <code>gbl_resourceClass_sm</code>, <code>gbl_resourceType_sm</code></li> <li>Formats &amp; Themes: <code>dct_format_s</code>, <code>dcat_theme_sm</code></li> </ul>"},{"location":"linked-data/contexts/#temporal-coverage","title":"Temporal Coverage","text":"<ul> <li>Temporal: <code>dct_temporal_sm</code>, <code>gbl_indexYear_im</code>, <code>gbl_dateRange_drsim</code></li> </ul>"},{"location":"linked-data/contexts/#spatial-coverage","title":"Spatial Coverage","text":"<ul> <li>Spatial: <code>dct_spatial_sm</code></li> <li>Geometry: <code>locn_geometry</code> (WKT), <code>dcat_bbox</code>, <code>dcat_centroid</code></li> </ul>"},{"location":"linked-data/contexts/#relationships","title":"Relationships","text":"<ul> <li>Part/Whole: <code>dct_ispartof_sm</code>, <code>pcdm_memberOf_sm</code></li> <li>Versions: <code>dct_isVersionOf_sm</code>, <code>dct_replaces_sm</code>, <code>dct_isReplacedBy_sm</code></li> <li>Sources: <code>dct_source_sm</code>, <code>dct_relation_sm</code></li> </ul>"},{"location":"linked-data/contexts/#rights-access","title":"Rights &amp; Access","text":"<ul> <li>Rights: <code>dct_rights_sm</code>, <code>dct_license_sm</code>, <code>dct_rightsHolder_sm</code></li> <li>Access: <code>dct_accessRights_s</code></li> </ul>"},{"location":"linked-data/contexts/#btaa-custom-elements","title":"BTAA Custom Elements","text":"<ul> <li>Institutional: <code>b1g_code_s</code>, <code>b1g_status_s</code>, <code>b1g_publication_state_s</code></li> <li>Dates: <code>b1g_dateAccessioned_s</code>, <code>b1g_dateRetired_s</code></li> <li>Accrual: <code>b1g_dct_accrualMethod_s</code>, <code>b1g_dct_accrualPeriodicity_s</code></li> <li>Access Control: <code>b1g_access_s</code> (JSON map), <code>b1g_child_record_b</code></li> <li>Geographic: <code>b1g_geonames_sm</code> (URIs), <code>b1g_dcat_spatialResolutionInMeters_sm</code></li> <li>Administrative: <code>b1g_adminTags_sm</code>, <code>b1g_dct_provenanceStatement_sm</code></li> </ul>"},{"location":"linked-data/contexts/#ogm-ui-context","title":"OGM UI Context","text":"<p>A specialized context for OpenGeoMetadata UI components and viewer integrations.</p> <p>File: <code>https://gin.btaa.org/api/v1/ld/contexts/ogm-ui.context.jsonld</code></p> <p>This context provides mappings for:</p> <ul> <li>UI Components: <code>ui</code>, <code>citation</code>, <code>viewer</code></li> <li>Protocols: <code>protocol</code></li> <li>Endpoints: <code>endpoint</code> (typed as IRI)</li> <li>Geometry: <code>geometry</code> (typed as JSON)</li> </ul>"},{"location":"linked-data/contexts/#usage","title":"Usage","text":""},{"location":"linked-data/contexts/#including-contexts-in-metadata-records","title":"Including Contexts in Metadata Records","text":"<pre><code>{\n  \"@context\": \"https://gin.btaa.org/api/v1/ld/contexts/ogm-aardvark-btaa.context.jsonld\",\n  \"@type\": \"Dataset\",\n  \"dct_title_s\": \"Example Geospatial Dataset\",\n  \"dct_creator_sm\": [\"University of Example\"],\n  \"dct_spatial_sm\": [\"United States\"],\n  \"b1g_code_s\": \"EXAMPLE\"\n}\n</code></pre>"},{"location":"linked-data/contexts/#using-multiple-contexts","title":"Using Multiple Contexts","text":"<pre><code>{\n  \"@context\": [\n    \"https://gin.btaa.org/api/v1/ld/contexts/ogm-aardvark-btaa.context.jsonld\",\n    \"https://gin.btaa.org/api/v1/ld/contexts/ogm-ui.context.jsonld\"\n  ],\n  \"@type\": \"Dataset\",\n  \"dct_title_s\": \"Example Dataset\",\n  \"viewer\": {\n    \"protocol\": \"wms\",\n    \"endpoint\": \"https://example.org/geoserver/wms\"\n  }\n}\n</code></pre>"},{"location":"linked-data/contexts/#namespace-prefixes","title":"Namespace Prefixes","text":"<p>The contexts include mappings for these common vocabularies:</p> <ul> <li>dct: Dublin Core Terms (<code>http://purl.org/dc/terms/</code>)</li> <li>dcat: Data Catalog Vocabulary (<code>http://www.w3.org/ns/dcat#</code>)</li> <li>schema: Schema.org (<code>https://schema.org/</code>)</li> <li>gsp: GeoSPARQL (<code>http://www.opengis.net/ont/geosparql#</code>)</li> <li>gbl: GeoBlacklight (<code>https://geo.blacklight.org/terms#</code>)</li> <li>b1g: BTAA GIN (<code>https://gin.btaa.org/terms/b1g#</code>)</li> <li>ogm: OpenGeoMetadata (<code>https://opengeometadata.org/ogm/terms#</code>)</li> </ul>"},{"location":"linked-data/contexts/#type-coercions","title":"Type Coercions","text":"<p>The contexts automatically handle type conversions:</p> <ul> <li>Dates: <code>xsd:date</code> for accessioned/retired dates</li> <li>DateTimes: <code>xsd:dateTime</code> for modification timestamps</li> <li>Booleans: <code>xsd:boolean</code> for flags like <code>georeferenced</code>, <code>suppressed</code></li> <li>Decimals: <code>xsd:decimal</code> for spatial resolution values</li> <li>JSON: <code>@json</code> for complex objects like references and access maps</li> <li>IRIs: <code>@id</code> for URIs and identifiers</li> </ul>"},{"location":"linked-data/contexts/#container-specifications","title":"Container Specifications","text":"<ul> <li>Sets: <code>@container: @set</code> for multi-valued properties</li> <li>Arrays: Standard JSON arrays for ordered collections</li> <li>Language Maps: Automatic language tagging for internationalized content</li> </ul>"},{"location":"linked-data/contexts/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contexts - JSON-LD context definitions</li> <li>Profiles - Profile specifications and constraints</li> <li>Schemas - JSON Schema validation</li> </ul>"},{"location":"linked-data/ontologies/","title":"Ontologies","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Ontologies define semantic models and relationships for geospatial data, enabling advanced reasoning and discovery capabilities.</p>"},{"location":"linked-data/ontologies/#overview","title":"Overview","text":"<p>Ontologies in this repository provide:</p> <ul> <li>Data models: Conceptual frameworks for geospatial data</li> <li>Relationship definitions: Semantic connections between entities</li> <li>Inference rules: Logical reasoning capabilities</li> <li>Domain expertise: Specialized knowledge representation</li> </ul>"},{"location":"linked-data/ontologies/#available-ontologies","title":"Available Ontologies","text":""},{"location":"linked-data/ontologies/#core-geospatial-ontology","title":"Core Geospatial Ontology","text":"<p>Basic geospatial concepts and relationships:</p> <pre><code>@prefix geo: &lt;http://www.opengis.net/ont/geosparql#&gt; .\n@prefix schema: &lt;https://schema.org/&gt; .\n@prefix geobtaa: &lt;https://geobtaa.org/ontology#&gt; .\n\n# Dataset class\ngeobtaa:Dataset a owl:Class ;\n    rdfs:subClassOf schema:Dataset ;\n    rdfs:label \"Geospatial Dataset\"@en ;\n    rdfs:comment \"A dataset containing geospatial data\"@en .\n\n# Spatial relationship\ngeobtaa:spatialCoverage a owl:ObjectProperty ;\n    rdfs:domain geobtaa:Dataset ;\n    rdfs:range geo:Feature ;\n    rdfs:label \"Spatial Coverage\"@en ;\n    rdfs:comment \"The geographic extent of a dataset\"@en .\n</code></pre>"},{"location":"linked-data/ontologies/#provenance-ontology","title":"Provenance Ontology","text":"<p>Data lineage and attribution:</p> <pre><code>@prefix prov: &lt;http://www.w3.org/ns/prov#&gt; .\n@prefix geobtaa: &lt;https://geobtaa.org/ontology#&gt; .\n\n# Data derivation\ngeobtaa:derivedFrom a owl:ObjectProperty ;\n    rdfs:subPropertyOf prov:wasDerivedFrom ;\n    rdfs:domain geobtaa:Dataset ;\n    rdfs:range geobtaa:Dataset ;\n    rdfs:label \"Derived From\"@en .\n\n# Processing step\ngeobtaa:ProcessingStep a owl:Class ;\n    rdfs:subClassOf prov:Activity ;\n    rdfs:label \"Processing Step\"@en .\n</code></pre>"},{"location":"linked-data/ontologies/#usage","title":"Usage","text":""},{"location":"linked-data/ontologies/#querying-with-sparql","title":"Querying with SPARQL","text":"<pre><code>PREFIX geo: &lt;http://www.opengis.net/ont/geosparql#&gt;\nPREFIX geobtaa: &lt;https://geobtaa.org/ontology#&gt;\nPREFIX schema: &lt;https://schema.org/&gt;\n\nSELECT ?dataset ?coverage\nWHERE {\n  ?dataset a geobtaa:Dataset ;\n           geobtaa:spatialCoverage ?coverage .\n  ?coverage geo:hasGeometry ?geometry .\n}\n</code></pre>"},{"location":"linked-data/ontologies/#reasoning-with-owl","title":"Reasoning with OWL","text":"<p>The ontologies support automated reasoning:</p> <pre><code>import rdflib\nfrom rdflib import Graph, Namespace\n\n# Load ontology\ng = Graph()\ng.parse(\"ontologies/core.ttl\", format=\"turtle\")\n\n# Create reasoner\nfrom rdflib.plugins.sparql import prepareQuery\nquery = prepareQuery(\"\"\"\n    SELECT ?dataset WHERE {\n        ?dataset a geobtaa:Dataset .\n    }\n\"\"\")\n\n# Execute query\nresults = g.query(query)\n</code></pre>"},{"location":"linked-data/ontologies/#creating-new-ontologies","title":"Creating New Ontologies","text":"<p>When creating new ontologies:</p> <ol> <li>Define clear scope and purpose</li> <li>Reuse existing ontologies when possible</li> <li>Use standard modeling patterns</li> <li>Provide comprehensive documentation</li> <li>Test with sample data</li> <li>Version appropriately</li> </ol>"},{"location":"linked-data/ontologies/#best-practices","title":"Best Practices","text":"<ul> <li>Follow OWL 2 DL for maximum reasoning capabilities</li> <li>Use descriptive URIs for all resources</li> <li>Provide labels and comments in multiple languages</li> <li>Document all axioms thoroughly</li> <li>Test with reasoners before release</li> <li>Maintain backward compatibility when possible</li> </ul>"},{"location":"linked-data/ontologies/#validation","title":"Validation","text":"<p>Use ontology validation tools:</p> <pre><code># Validate ontology structure\npython validate_ontology.py --input ontologies/core.ttl\n\n# Check for reasoning consistency\npython check_consistency.py --input ontologies/core.ttl\n</code></pre>"},{"location":"linked-data/profiles/","title":"Profiles","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>JSON-LD profiles define specific subsets of vocabularies and constraints for particular use cases, enabling targeted data exchange and validation within the BTAA Geospatial ecosystem.</p>"},{"location":"linked-data/profiles/#overview","title":"Overview","text":"<p>Profiles in this repository define:</p> <ul> <li>Vocabulary subsets: Curated sets of terms from broader vocabularies</li> <li>Use case constraints: Specific requirements for different data exchange scenarios</li> <li>Validation rules: Profile-specific validation and business logic</li> <li>Interoperability guarantees: Assurances about data compatibility</li> <li>Implementation guidance: Best practices for profile adoption</li> </ul>"},{"location":"linked-data/profiles/#what-are-json-ld-profiles","title":"What are JSON-LD Profiles?","text":"<p>JSON-LD profiles are specifications that define how to use JSON-LD in a particular context or for a specific purpose. They provide:</p> <ul> <li>Constrained vocabularies: Only specific terms from broader vocabularies</li> <li>Mandatory properties: Required fields for profile compliance</li> <li>Value constraints: Allowed values and formats</li> <li>Extension points: Where and how to add custom properties</li> <li>Implementation guidance: How to use the profile effectively</li> </ul>"},{"location":"linked-data/profiles/#available-profiles","title":"Available Profiles","text":""},{"location":"linked-data/profiles/#ogm-aardvark-profile-btaa-enhanced","title":"OGM Aardvark Profile (BTAA-enhanced)","text":"<p>Purpose: Comprehensive geospatial resource description using the OpenGeoMetadata Aardvark schema with BTAA-specific extensions</p> <p>File: <code>https://gin.btaa.org/api/v1/ld/profiles/ogm-b1g.profile.jsonld</code></p> <p>Scope: JSON:API Resource attributes for maps, datasets, imagery, and collections in the BTAA network</p> <p>Key Features: - OpenGeoMetadata Aardvark schema compliance - BTAA-specific custom elements and constraints - JSON:API Resource attribute structure - Comprehensive validation rules - Integration with BTAA GIN infrastructure</p> <p>Required Properties:</p> <ul> <li><code>id</code> - Resource identifier</li> <li><code>dct_title_s</code> - Resource title</li> <li><code>gbl_resourceClass_sm</code> - Resource classification</li> <li><code>dct_accessRights_s</code> - Access rights information</li> <li><code>gbl_mdVersion_s</code> - Metadata version</li> <li><code>b1g_dct_accrualMethod_s</code> - Accrual method</li> <li><code>b1g_dateAccessioned_s</code> - Date accessioned</li> <li><code>b1g_publication_state_s</code> - Publication state</li> </ul> <p>Recommended Properties:</p> <ul> <li><code>dct_description_sm</code> - Resource description</li> <li><code>dct_language_sm</code> - Resource language</li> <li><code>dct_subject_sm</code> - Subject terms</li> <li><code>dcat_keyword_sm</code> - Keywords</li> <li><code>schema_provider_s</code> - Provider information</li> <li><code>dct_spatial_sm</code> - Spatial coverage</li> <li><code>dct_references_s</code> - Reference links</li> <li><code>dct_format_s</code> - Format information</li> <li><code>dcat_bbox</code> - Bounding box</li> <li><code>locn_geometry</code> - Geometry (WKT)</li> <li><code>b1g_dct_conformsTo_sm</code> - Conformance statements</li> <li><code>b1g_geonames_sm</code> - GeoNames URIs</li> <li><code>b1g_image_ss</code> - Image URLs</li> <li><code>b1g_dct_accrualPeriodicity_s</code> - Accrual periodicity</li> <li><code>b1g_dcat_spatialResolutionInMeters_sm</code> - Spatial resolution</li> <li><code>b1g_dct_provenanceStatement_sm</code> - Provenance information</li> </ul> <p>Temporal Coverage Constraints:</p> <p>The profile requires at least one of the following temporal properties:</p> <ul> <li><code>dct_temporal_sm</code> - Temporal coverage</li> <li><code>gbl_indexYear_im</code> - Index year</li> <li><code>gbl_dateRange_drsim</code> - Date range</li> </ul> <p>Cardinality Rules:</p> <ul> <li>Single values: <code>id</code>, <code>dct_title_s</code>, <code>dct_accessRights_s</code>, <code>gbl_mdVersion_s</code>, <code>b1g_dct_accrualMethod_s</code>, <code>b1g_dateAccessioned_s</code>, <code>b1g_publication_state_s</code></li> <li>Multi-values: <code>gbl_resourceClass_sm</code>, <code>b1g_language_sm</code></li> </ul> <p>Pattern Constraints:</p> <ul> <li><code>dcat_centroid</code>: Must match pattern <code>^-?\\d+(\\.\\d+)?,\\s*-?\\d+(\\.\\d+)?$</code> (latitude,longitude)</li> </ul> <p>JSON Stringified Properties:</p> <ul> <li><code>dct_references_s</code> - Reference links as JSON string</li> <li><code>b1g_access_s</code> - Access map as JSON string</li> </ul> <p>Example Usage:</p> <pre><code>{\n  \"@context\": \"https://gin.btaa.org/api/v1/ld/profiles/ogm-b1g.profile.jsonld\",\n  \"@type\": \"Dataset\",\n  \"id\": \"msn-id-1897\",\n  \"dct_title_s\": \"Wisconsin Population Density 2020\",\n  \"dct_description_sm\": [\"Population density data for Wisconsin counties\"],\n  \"gbl_resourceClass_sm\": [\"Datasets\"],\n  \"dct_accessRights_s\": \"Public\",\n  \"gbl_mdVersion_s\": \"Aardvark\",\n  \"b1g_dct_accrualMethod_s\": \"periodic\",\n  \"b1g_dateAccessioned_s\": \"2024-01-15\",\n  \"b1g_publication_state_s\": \"published\",\n  \"b1g_language_sm\": [\"English\"],\n  \"dct_spatial_sm\": [\"Wisconsin\"],\n  \"dcat_bbox\": \"POLYGON((-92.9 42.5, -86.8 42.5, -86.8 47.1, -92.9 47.1, -92.9 42.5))\",\n  \"b1g_code_s\": \"WISC\"\n}\n</code></pre>"},{"location":"linked-data/profiles/#ogm-ui-hints-profile","title":"OGM UI Hints Profile","text":"<p>Purpose: Non-RDF UI overlay for BTAA resources carried in JSON:API Resource meta</p> <p>File: <code>https://gin.btaa.org/api/v1/ld/profiles/ogm-ui.profile.jsonld</code></p> <p>Scope: UI-specific metadata for viewer integration and citation display</p> <p>Key Features:</p> <ul> <li>UI component specifications</li> <li>Viewer protocol definitions</li> <li>Citation formatting hints</li> <li>Non-RDF structure for UI integration</li> </ul> <p>Recommended Properties:</p> <ul> <li><code>ui.citation</code> - Citation display information</li> <li><code>ui.viewer.protocol</code> - Viewer protocol type</li> <li><code>ui.viewer.endpoint</code> - Viewer endpoint URL</li> </ul> <p>Cardinality Rules:</p> <ul> <li><code>ui</code>: 0..1 (optional)</li> <li><code>ui.citation</code>: 0..1 (optional)</li> <li><code>ui.viewer</code>: 0..1 (optional)</li> <li><code>ui.viewer.protocol</code>: 0..1 (optional)</li> <li><code>ui.viewer.endpoint</code>: 0..1 (optional)</li> <li><code>ui.viewer.geometry</code>: 0..1 (optional)</li> </ul> <p>Protocol Enums:</p> <p>The <code>ui.viewer.protocol</code> property supports these values:</p> <ul> <li><code>iiif_manifest</code> - IIIF Manifest</li> <li><code>tilejson</code> - TileJSON</li> <li><code>wms</code> - Web Map Service</li> <li><code>wmts</code> - Web Map Tile Service</li> <li><code>xyz</code> - XYZ Tiles</li> <li><code>arcgis</code> - ArcGIS Services</li> </ul> <p>Example Usage:</p> <pre><code>{\n  \"@context\": \"https://gin.btaa.org/ld/contexts/ogm-ui.context.jsonld\",\n  \"ui\": {\n    \"citation\": \"Wisconsin Population Density 2020. University of Wisconsin-Madison.\",\n    \"viewer\": {\n      \"protocol\": \"wms\",\n      \"endpoint\": \"https://geoserver.example.org/geoserver/wms\",\n      \"geometry\": \"{\\\"type\\\":\\\"Polygon\\\",\\\"coordinates\\\":[[[-92.9,42.5],[-86.8,42.5],[-86.8,47.1],[-92.9,47.1],[-92.9,42.5]]]}\"\n    }\n  }\n}\n</code></pre>"},{"location":"linked-data/profiles/#profile-validation","title":"Profile Validation","text":""},{"location":"linked-data/profiles/#profile-compliance","title":"Profile Compliance","text":"<p>Each profile defines specific validation rules that data must satisfy:</p> <pre><code>import json\nfrom jsonschema import validate\n\ndef validate_profile(data, profile_name):\n    \"\"\"Validate data against a specific profile.\"\"\"\n    profile_schema = load_profile_schema(profile_name)\n\n    try:\n        validate(instance=data, schema=profile_schema)\n        return True, \"Profile validation passed\"\n    except ValidationError as e:\n        return False, f\"Profile validation failed: {e.message}\"\n</code></pre>"},{"location":"linked-data/profiles/#profile-selection","title":"Profile Selection","text":"<p>Choose the appropriate profile based on your use case:</p> <ul> <li>OGM Aardvark Profile: Comprehensive geospatial metadata with BTAA extensions</li> <li>OGM UI Hints Profile: UI integration and viewer specifications</li> </ul>"},{"location":"linked-data/profiles/#implementation-guidelines","title":"Implementation Guidelines","text":""},{"location":"linked-data/profiles/#creating-profile-compliant-data","title":"Creating Profile-Compliant Data","text":"<ol> <li>Select the appropriate profile for your use case</li> <li>Include the required context for the profile</li> <li>Provide all mandatory properties as specified</li> <li>Follow value constraints and format requirements</li> <li>Validate your data against the profile schema</li> </ol>"},{"location":"linked-data/profiles/#profile-extensions","title":"Profile Extensions","text":"<p>Profiles can be extended with additional properties while maintaining compliance:</p> <pre><code>{\n  \"@context\": \"https://gin.btaa.org/ld/contexts/ogm-aardvark-btaa.context.jsonld\",\n  \"@type\": \"Dataset\",\n  \"dct_title_s\": \"Example Dataset\",\n  // ... required profile properties ...\n\n  // Profile extensions\n  \"custom:specialProperty\": \"Custom value\",\n  \"custom:internalId\": \"INT-001\"\n}\n</code></pre>"},{"location":"linked-data/profiles/#best-practices","title":"Best Practices","text":"<ul> <li>Use consistent identifiers across your data</li> <li>Provide meaningful descriptions for all resources</li> <li>Include appropriate spatial and temporal coverage</li> <li>Maintain provenance information for data lineage</li> <li>Regularly validate against profile schemas</li> <li>Document any extensions to standard profiles</li> <li>Follow JSON:API conventions for resource structure</li> </ul>"},{"location":"linked-data/profiles/#profile-evolution","title":"Profile Evolution","text":"<p>Profiles are versioned and may evolve over time:</p> <ul> <li>Backward compatibility is maintained when possible</li> <li>New versions are clearly documented</li> <li>Migration guides are provided for breaking changes</li> <li>Deprecation notices are given for removed features</li> </ul>"},{"location":"linked-data/profiles/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contexts - JSON-LD context definitions</li> <li>Profiles - Profile specifications and constraints</li> <li>Schemas - JSON Schema validation</li> </ul>"},{"location":"linked-data/schemas/","title":"Schemas","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>JSON Schemas provide structural validation for linked data, ensuring data quality and consistency across the BTAA Geospatial ecosystem.</p>"},{"location":"linked-data/schemas/#overview","title":"Overview","text":"<p>Schemas in this repository define:</p> <ul> <li>Data structure: Required and optional fields</li> <li>Data types: String, number, object, array constraints</li> <li>Value constraints: Enumerations, ranges, patterns</li> <li>Relationships: References between different data types</li> <li>Validation rules: Business logic and constraints</li> </ul>"},{"location":"linked-data/schemas/#available-schemas","title":"Available Schemas","text":""},{"location":"linked-data/schemas/#ogm-aardvark-resource-record-for-btaa-geospatial","title":"OGM Aardvark Resource Record for BTAA Geospatial","text":"<p>File: <code>https://gin.btaa.org/api/v1/ld/schemas/ogm-aardvark-btaa.schema.json</code></p> <p>Validates OpenGeoMetadata Aardvark schema fields with BTAA custom elements for geospatial resource records.</p> <p>Key Features:</p> <ul> <li>OpenGeoMetadata Aardvark compliance</li> <li>BTAA B1G custom extensions</li> <li>Dublin Core metadata validation</li> <li>Spatial and temporal coverage validation</li> <li>Access rights and licensing validation</li> <li>Provenance and administrative metadata</li> </ul> <p>Required Fields:</p> <ul> <li><code>id</code> - Resource identifier</li> <li><code>gbl_mdVersion_s</code> - Metadata version (must be \"Aardvark\")</li> <li><code>schema_provider_s</code> - Schema provider</li> <li><code>dct_title_s</code> - Resource title</li> <li><code>dct_description_sm</code> - Resource descriptions</li> <li><code>dct_language_sm</code> - Languages</li> <li><code>dct_accessRights_s</code> - Access rights (\"Public\" or \"Restricted\")</li> <li><code>dct_license_sm</code> - License URIs</li> <li><code>b1g_dct_accrualMethod_s</code> - Accrual method</li> <li><code>b1g_dateAccessioned_s</code> - Accession date</li> <li><code>b1g_publication_state_s</code> - Publication state</li> </ul> <p>Core Aardvark Properties:</p> <ul> <li>Identifiers: <code>id</code>, <code>gbl_mdVersion_s</code>, <code>schema_provider_s</code></li> <li>Titles &amp; Descriptions: <code>dct_title_s</code>, <code>dct_alternative_sm</code>, <code>dct_description_sm</code></li> <li>Agents: <code>dct_creator_sm</code>, <code>dct_publisher_sm</code>, <code>dct_rightsHolder_sm</code></li> <li>Subjects &amp; Keywords: <code>dct_subject_sm</code></li> <li>Languages: <code>dct_language_sm</code></li> <li>Rights &amp; Access: <code>dct_accessRights_s</code>, <code>dct_license_sm</code></li> <li>Resource Classification: <code>gbl_resourceClass_sm</code>, <code>gbl_resourceType_sm</code></li> <li>Temporal Coverage: <code>dct_temporal_sm</code>, <code>dct_issued_s</code></li> <li>Spatial Coverage: <code>dct_spatial_sm</code>, <code>dcat_bbox</code>, <code>dcat_centroid</code>, <code>locn_geometry</code></li> <li>Relationships: <code>dct_source_sm</code>, <code>dct_isPartOf_sm</code>, <code>pcdm_memberOf_sm</code>, <code>dct_replaces_sm</code>, <code>dct_isReplacedBy_sm</code>, <code>dct_isVersionOf_sm</code>, <code>dct_relation_sm</code></li> <li>Technical: <code>layer_geom_type_s</code>, <code>solr_year_i</code>, <code>layer_id_s</code>, <code>suppressed_b</code>, <code>dct_references_s</code></li> </ul> <p>BTAA Custom Properties:</p> <ul> <li>Institutional: <code>b1g_code_s</code>, <code>b1g_status_s</code>, <code>b1g_publication_state_s</code></li> <li>Dates: <code>b1g_dateAccessioned_s</code>, <code>b1g_dateRetired_s</code></li> <li>Accrual: <code>b1g_dct_accrualMethod_s</code>, <code>b1g_dct_accrualPeriodicity_s</code></li> <li>Access Control: <code>b1g_access_s</code> (object with URI values), <code>b1g_child_record_b</code></li> <li>Geographic: <code>b1g_geonames_sm</code> (URI array), <code>b1g_dcat_spatialResolutionInMeters_sm</code>, <code>b1g_geodcat_spatialResolutionAsText_sm</code></li> <li>Administrative: <code>b1g_adminTags_sm</code>, <code>b1g_dct_provenanceStatement_sm</code></li> <li>UI: <code>b1g_image_ss</code> (URI), <code>b1g_language_sm</code>, <code>b1g_creatorID_sm</code> (URI array), <code>b1g_dct_conformsTo_sm</code> (URI array)</li> </ul> <p>Data Type Constraints:</p> <ul> <li>Enums: <code>gbl_mdVersion_s</code> must be \"Aardvark\", <code>dct_accessRights_s</code> must be \"Public\" or \"Restricted\"</li> <li>Formats: <code>gbl_mdModified_dt</code> (date-time), <code>b1g_dateAccessioned_s</code> (date), <code>b1g_dateRetired_s</code> (date)</li> <li>URIs: <code>dct_license_sm</code>, <code>b1g_image_ss</code>, <code>b1g_geonames_sm</code>, <code>b1g_creatorID_sm</code>, <code>b1g_dct_conformsTo_sm</code></li> <li>Arrays: Most multi-valued properties are arrays of strings</li> <li>Objects: <code>b1g_access_s</code> allows additional properties with URI values</li> <li>Booleans: <code>suppressed_b</code>, <code>b1g_child_record_b</code></li> </ul> <p>Example Usage:</p> <pre><code>{\n  \"id\": \"msn-id-1897\",\n  \"gbl_mdVersion_s\": \"Aardvark\",\n  \"schema_provider_s\": \"University of Wisconsin-Madison\",\n  \"dct_title_s\": \"Wisconsin Population Density 2020\",\n  \"dct_description_sm\": [\"Population density data for Wisconsin counties\"],\n  \"dct_language_sm\": [\"en\"],\n  \"dct_accessRights_s\": \"Public\",\n  \"dct_license_sm\": [\"https://creativecommons.org/licenses/by/4.0/\"],\n  \"b1g_code_s\": \"WISC\",\n  \"b1g_dct_accrualMethod_s\": \"periodic\",\n  \"b1g_dateAccessioned_s\": \"2024-01-15\",\n  \"b1g_publication_state_s\": \"published\",\n  \"b1g_language_sm\": [\"English\"],\n  \"dct_spatial_sm\": [\"Wisconsin\"],\n  \"dcat_bbox\": \"POLYGON((-92.9 42.5, -86.8 42.5, -86.8 47.1, -92.9 47.1, -92.9 42.5))\",\n  \"dcat_centroid\": \"-89.85,44.8\",\n  \"gbl_resourceClass_sm\": [\"Datasets\"],\n  \"dct_creator_sm\": [\"US Census Bureau\"],\n  \"b1g_geonames_sm\": [\"http://sws.geonames.org/5279468/\"],\n  \"b1g_image_ss\": \"https://example.org/thumbnail.jpg\"\n}\n</code></pre>"},{"location":"linked-data/schemas/#validation","title":"Validation","text":""},{"location":"linked-data/schemas/#command-line-validation","title":"Command Line Validation","text":"<pre><code># Validate schema files themselves\npython scripts/validate_schema.py --validate-schemas\n\n# Validate data against a specific schema\npython scripts/validate_schema.py --schema schemas/ogm-aardvark-btaa.schema.json --data data/example.json\n\n# Using jsonschema CLI\npip install jsonschema\njsonschema -i data/resource.json schemas/ogm-aardvark-btaa.schema.json\n</code></pre>"},{"location":"linked-data/schemas/#programmatic-validation","title":"Programmatic Validation","text":"<pre><code>import json\nfrom jsonschema import validate, ValidationError\n\ndef validate_resource(data):\n    \"\"\"Validate resource against OGM Aardvark BTAA schema.\"\"\"\n    with open('schemas/ogm-aardvark-btaa.schema.json') as f:\n        schema = json.load(f)\n\n    try:\n        validate(instance=data, schema=schema)\n        return True, None\n    except ValidationError as e:\n        return False, e.message\n\n# Usage\ndata = {\n    \"id\": \"example-resource-001\",\n    \"gbl_mdVersion_s\": \"Aardvark\",\n    \"schema_provider_s\": \"BTAA Geospatial Information Network\",\n    \"dct_title_s\": \"Test Dataset\",\n    \"dct_description_sm\": [\"A test dataset\"],\n    \"dct_language_sm\": [\"en\"],\n    \"dct_accessRights_s\": \"Public\",\n    \"dct_license_sm\": [\"https://creativecommons.org/licenses/by/4.0/\"],\n    \"b1g_code_s\": \"TEST\",\n    \"b1g_dct_accrualMethod_s\": \"manual\",\n    \"b1g_dateAccessioned_s\": \"2024-01-15\",\n    \"b1g_publication_state_s\": \"published\",\n    \"b1g_language_sm\": [\"en\"]\n}\n\nis_valid, error = validate_resource(data)\nif is_valid:\n    print(\"\u2713 Resource is valid\")\nelse:\n    print(f\"\u2717 Validation error: {error}\")\n</code></pre>"},{"location":"linked-data/schemas/#integration-with-json-ld-contexts","title":"Integration with JSON-LD Contexts","text":"<p>Schemas work alongside JSON-LD contexts to provide both structural validation and semantic meaning:</p> <pre><code>{\n  \"$schema\": \"https://gin.btaa.org/api/v1/ld/schemas/ogm-aardvark-btaa.schema.json\",\n  \"@context\": \"https://gin.btaa.org/api/v1/ld/contexts/ogm-aardvark-btaa.context.jsonld\",\n  \"@type\": \"Dataset\",\n  \"id\": \"validated-resource\",\n  \"dct_title_s\": \"Validated Dataset\",\n  \"dct_description_sm\": [\"This dataset passes both schema and context validation\"]\n}\n</code></pre>"},{"location":"linked-data/schemas/#schema-registry","title":"Schema Registry","text":"<p>All schemas are registered with canonical URIs:</p> <ul> <li><code>https://gin.btaa.org/api/v1/ld/schemas/ogm-aardvark-btaa.schema.json</code></li> </ul> <p>These URIs can be referenced in <code>$schema</code> fields for IDE support and validation tools.</p>"},{"location":"linked-data/schemas/#validation-tools","title":"Validation Tools","text":"<p>The repository includes several validation tools:</p> <ul> <li><code>validate_schema.py</code> - Validate data against schemas</li> <li><code>validate_context.py</code> - Validate JSON-LD contexts</li> <li><code>validate_vocabulary.py</code> - Validate controlled vocabularies</li> </ul> <p>These tools can be used individually or as part of CI/CD pipelines to ensure data quality.</p>"},{"location":"linked-data/schemas/#schema-evolution","title":"Schema Evolution","text":"<p>Schemas are versioned and may evolve over time:</p> <ul> <li>Backward compatibility is maintained when possible</li> <li>New versions are clearly documented</li> <li>Migration guides are provided for breaking changes</li> <li>Deprecation notices are given for removed features</li> </ul>"},{"location":"linked-data/schemas/#related-documentation","title":"Related Documentation","text":"<ul> <li>Contexts - JSON-LD context definitions</li> <li>Profiles - Profile specifications and constraints</li> <li>Schemas - JSON Schema validation</li> </ul>"},{"location":"linked-data/vocabularies/","title":"Vocabularies","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Controlled vocabularies provide standardized terms and concepts for consistent data classification and discovery.</p>"},{"location":"linked-data/vocabularies/#overview","title":"Overview","text":"<p>Vocabularies in this repository include:</p> <ul> <li>Subject classifications: Topic and discipline terms</li> <li>Geographic terms: Place names and administrative boundaries</li> <li>Temporal periods: Historical and geological time periods</li> <li>Resource types: Dataset and collection classifications</li> <li>Access levels: Usage and licensing terms</li> </ul>"},{"location":"linked-data/vocabularies/#available-vocabularies","title":"Available Vocabularies","text":""},{"location":"linked-data/vocabularies/#subject-classification","title":"Subject Classification","text":"<p>Standard subject terms for geospatial data:</p> <pre><code>{\n  \"@context\": \"https://schema.org/\",\n  \"@type\": \"DefinedTermSet\",\n  \"name\": \"BTAA Geospatial Subject Classification\",\n  \"description\": \"Controlled vocabulary for geospatial data subjects\",\n  \"hasDefinedTerm\": [\n    {\n      \"@type\": \"DefinedTerm\",\n      \"termCode\": \"GEOGRAPHY\",\n      \"name\": \"Geography\",\n      \"description\": \"Study of places and relationships between people and environments\"\n    },\n    {\n      \"@type\": \"DefinedTerm\", \n      \"termCode\": \"GEOLOGY\",\n      \"name\": \"Geology\",\n      \"description\": \"Study of Earth's physical structure and substance\"\n    }\n  ]\n}\n</code></pre>"},{"location":"linked-data/vocabularies/#geographic-terms","title":"Geographic Terms","text":"<p>Hierarchical geographic classification:</p> <pre><code>{\n  \"@context\": \"https://schema.org/\",\n  \"@type\": \"DefinedTermSet\",\n  \"name\": \"BTAA Geospatial Geographic Classification\",\n  \"hasDefinedTerm\": [\n    {\n      \"@type\": \"DefinedTerm\",\n      \"termCode\": \"MIDWEST\",\n      \"name\": \"Midwest United States\",\n      \"broaderTerm\": \"UNITED_STATES\"\n    }\n  ]\n}\n</code></pre>"},{"location":"linked-data/vocabularies/#usage","title":"Usage","text":""},{"location":"linked-data/vocabularies/#applying-vocabularies","title":"Applying Vocabularies","text":"<pre><code>{\n  \"@context\": \"https://schema.org/\",\n  \"@type\": \"Dataset\",\n  \"name\": \"Midwest Population Data\",\n  \"about\": [\n    {\n      \"@type\": \"DefinedTerm\",\n      \"termCode\": \"GEOGRAPHY\",\n      \"inDefinedTermSet\": \"https://raw.githubusercontent.com/geobtaa/ld/main/vocabularies/subjects.jsonld\"\n    },\n    {\n      \"@type\": \"DefinedTerm\", \n      \"termCode\": \"MIDWEST\",\n      \"inDefinedTermSet\": \"https://raw.githubusercontent.com/geobtaa/ld/main/vocabularies/geographic.jsonld\"\n    }\n  ]\n}\n</code></pre>"},{"location":"linked-data/vocabularies/#vocabulary-validation","title":"Vocabulary Validation","text":"<p>Use the provided validation tools to ensure proper vocabulary usage:</p> <pre><code># Validate vocabulary usage\npython validate_vocabulary.py --input data.json --vocabulary subjects.jsonld\n</code></pre>"},{"location":"linked-data/vocabularies/#creating-new-vocabularies","title":"Creating New Vocabularies","text":"<p>When creating new vocabularies:</p> <ol> <li>Research existing standards first</li> <li>Define clear scope and purpose</li> <li>Use consistent naming conventions</li> <li>Provide definitions for all terms</li> <li>Establish relationships between terms</li> <li>Document versioning strategy</li> </ol>"},{"location":"linked-data/vocabularies/#best-practices","title":"Best Practices","text":"<ul> <li>Reuse existing vocabularies when possible (LCSH, AAT, etc.)</li> <li>Use SKOS for complex vocabulary structures</li> <li>Provide multilingual support where appropriate</li> <li>Maintain backward compatibility when possible</li> <li>Document all changes thoroughly </li> </ul>"},{"location":"specification/","title":"BTAA Geospatial API Specification","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Version: 0.3.0-pre-alpha   Status: DRAFT Release Date: 2025\u201112\u201109</p>"},{"location":"specification/#editors","title":"Editors","text":"<ul> <li>Eric Larson, Big Ten Academic Alliance  </li> <li>Karen Majewicz, Big Ten Academic Alliance  </li> </ul> <p>Copyright \u00a9 2025 Editors and Contributors. Published by BTAA GIN under the CC-BY license, see disclaimer.</p>"},{"location":"specification/#introduction","title":"Introduction","text":"<p>The BTAA Geospatial API is an OpenGeoMetadata API-compliant, read\u2011only, web service for programmatically accessing, searching, and retrieving metadata records that conform to the BTAA GIN\u2019s extended-OGM Aardvark schema (opengeometadata.org + https://gin.btaa.org/metadata/b1g-custom-elements). The API is designed to be an efficient backend, powering search and geospatial discovery, for any frontend technology. </p> <p>In addition to structured metadata retrieval, the API can drive user interface components \u2014 such as field hints, thumbnails, citations, and viewer configurations \u2014 that support search, web service previews, and other interactive features within geospatial discovery applications.</p> <p>This specification deliberately echoes the style and structure of the IIIF specifications (iiif.io), providing:</p> <ul> <li>A small, RESTful surface area with predictable, cache\u2011friendly URLs  </li> <li>Explicit parameter semantics  </li> <li>Normative requirements using MUST, SHOULD, MAY as defined by RFC 2119</li> </ul> <p>The goal of this specification is to enable consistent client and server implementations across the OGM community.</p>"},{"location":"specification/#scope","title":"Scope","text":"<ul> <li>In scope \u2013 Retrieval of individual resources, list endpoints, full\u2011text and spatial search, simple authentication, usage limits.  </li> <li>Out of scope \u2013 Write operations (create/update/delete), bulk harvesting, or authentication flows beyond API keys (e.g. OAuth 2).</li> </ul>"},{"location":"specification/#audience","title":"Audience","text":"<ul> <li>BTAA GIN Member Libraries  </li> <li>Client developers (e.g. FastAPI-based geoportals, desktop GIS plugins)  </li> <li>Researchers automating metadata discovery</li> </ul>"},{"location":"specification/#change-log","title":"Change Log","text":"Version Date Notes 0.3.0-pre-alpha 2025-12-09 Endpoints added for facet pagination, search supporting adv_q param for advanced search, lots of polish and refinement. 0.2.0-pre-alpha 2025-10-23 Search endpoint enchancements. Support for additional parameters: search_field, fields, facets, include and exclude filters, and meta 0.1.1-pre-alpha 2025\u201108\u201122 Broad revisions. 0.1.0-pre-alpha 2025\u201107\u201122 Initial draft."},{"location":"specification/#acknowledgements","title":"Acknowledgements","text":"<p>This specification borrows heavily from the structure and editorial approach of the IIIF community (iiif.io) and benefits from prior work by the GeoBlacklight and OpenGeoMetadata communities.</p>"},{"location":"specification/authentication/","title":"Authentication (API Keys)","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"specification/authentication/#auth-not-currently-enforced","title":"AUTH NOT CURRENTLY ENFORCED","text":"<p>The API will eventually use simple apiKey authentication. Clients MUST supply a valid key via one of:</p> <p>HTTPS header (preferred):</p> <ul> <li>X-API-Key: \\&lt;key&gt;  </li> <li>Query parameter (fallback): <code>?api_key=&lt;key&gt;</code></li> </ul> <p>Keys are provisioned out\u2011of\u2011band by the service operator. A new key MUST be a 32\u2011character URL\u2011safe random string.</p>"},{"location":"specification/authentication/#key-status-endpoint","title":"Key Status Endpoint","text":"Method Path Description GET <code>/keys/self</code> Returns metadata about the calling key (plan, quota, issued at, expires at)."},{"location":"specification/authentication/#todos","title":"TODOs","text":"<ul> <li>Add Authentication to API</li> </ul>"},{"location":"specification/endpoints/","title":"Endpoints","text":"<p> packages = [\"requests\", \"pyodide-http\"] </p> <p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"specification/endpoints/#api-swagger-documentation","title":"API Swagger Documentation","text":""},{"location":"specification/endpoints/#development-server","title":"Development Server","text":"<p>https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/docs</p>"},{"location":"specification/endpoints/#search-endpoint","title":"Search Endpoint","text":"<p>Supports both GET (simple) and POST (complex) forms.</p> Method Path Notes GET or POST <code>/search</code> Returns a JSON:API resultset of Resources"},{"location":"specification/endpoints/#interactive-example-simple-search","title":"Interactive Example: Simple Search","text":"Simple Search Search <p>Goal: Find all resources related to \"water\".</p> <p>Request: <code>GET /api/v1/search?q=water</code></p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 1: Text search for 'water'\nparams = {\n    'q': 'water',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example"},{"location":"specification/endpoints/#search-examples","title":"Search Examples","text":"Field-Directed Search Field-Directed Search Advanced Search <p>Goal: Search for \"Transportation\" specifically in the Subject field.</p> <p>Request: <code>GET /api/v1/search?q=Transportation&amp;search_field=dct_subject_sm</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 4: Field-directed search\nparams = {\n    'q': 'Transportation',\n    'search_field': 'dct_subject_sm',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Boolean Search Boolean Search Advanced Search <p>Goal: Search for \"(water AND ice) NOT Forest\".</p> <p>Request: <code>GET /api/v1/search?q=(water AND ice) NOT Forest</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 3: Boolean search\nparams = {\n    'q': '(water AND ice) NOT Forest',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Faceted Search \u2014\u00a0Includes Faceted Search (Includes) Facets <p>Goal: Search for \"seattle\", filter for \"Maps\" AND \"Washington\".</p> <p>Request: <code>GET /api/v1/search?q=seattle&amp;include_filters...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 6: Faceted search (Maps + Washington)\nparams = {\n    'q': 'seattle',\n    'include_filters[gbl_resourceClass_sm][]': 'Maps',\n    'include_filters[dct_spatial_sm][]': 'Washington',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Faceted Search \u2014 Excludes Faceted Search (Excludes) Facets <p>Goal: Search for \"seattle\", filter for \"Maps\", \"Washington\", but EXCLUDE         \"Pennsylvania State University\".</p> <p>Request: <code>GET /api/v1/search?q=seattle&amp;exclude_filters...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 7: Faceted search (Maps + Washington - PSU)\nparams = {\n    'q': 'seattle',\n    'include_filters[gbl_resourceClass_sm][]': 'Maps',\n    'include_filters[dct_spatial_sm][]': 'Washington',\n    'exclude_filters[schema_provider_s][]': 'Pennsylvania State University',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search \u2014 BBox Spatial Search (BBox) Spatial <p>Goal: Find maps within the Minnesota bounding box.</p> <p>Request: <code>GET /api/v1/search?q=maps&amp;include_filters[geo][type]=bbox...</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 8: Bounding Box Search (Minnesota)\nparams = {\n    'q': 'maps',\n    'include_filters[geo][type]': 'bbox',\n    'include_filters[geo][field]': 'dcat_bbox',\n    'include_filters[geo][top_left][lat]': '49.0',\n    'include_filters[geo][top_left][lon]': '-97.2',\n    'include_filters[geo][bottom_right][lat]': '43.5',\n    'include_filters[geo][bottom_right][lon]': '-89.5',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search \u2014\u00a0Distance Spatial Search (Distance) Spatial <p>Goal: Find \"parks\" resources within 50km of Minneapolis.</p> <p>Request: <code>GET /api/v1/search?q=parks&amp;include_filters[geo][type]=distance...</code> </p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 9: Distance Search (50km from Minneapolis)\nparams = {\n    'q': 'parks',\n    'include_filters[geo][type]': 'distance',\n    'include_filters[geo][field]': 'dcat_centroid',\n    'include_filters[geo][center][lat]': '44.9778',\n    'include_filters[geo][center][lon]': '-93.2650',\n    'include_filters[geo][distance]': '50km',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search \u2014 Polygon Spatial Search (Polygon) Spatial <p>Goal: Find \"water\" resources intersecting with Colorado state boundaries.</p> <p>Request: <code>GET /api/v1/search?q=water&amp;include_filters[geo][type]=polygon...</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 10: Polygon Search (Colorado)\nparams = {\n    'q': 'water',\n    'include_filters[geo][type]': 'polygon',\n    'include_filters[geo][field]': 'locn_geometry',\n    'include_filters[geo][relation]': 'intersects',\n    'include_filters[geo][points][0][lat]': '41.0',\n    'include_filters[geo][points][0][lon]': '-109.0',\n    'include_filters[geo][points][1][lat]': '41.0',\n    'include_filters[geo][points][1][lon]': '-102.0',\n    'include_filters[geo][points][2][lat]': '37.0',\n    'include_filters[geo][points][2][lon]': '-102.0',\n    'include_filters[geo][points][3][lat]': '37.0',\n    'include_filters[geo][points][3][lon]': '-109.0',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Advanced Search Advanced Search (adv_q) Advanced <p>Goal: Find \"Maps\" having \"Island\" in title but NOT \"Antarctica\".</p> <p>Request: <code>GET /api/v1/search?q=&amp;adv_q=...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 11: Advanced Search with adv_q\n# Logic: (ResourceClass=Maps AND Title=Island) NOT Title=Antarctica\nadv_query = [\n    {\"op\": \"AND\", \"f\": \"gbl_resourceClass_sm\", \"q\": \"Maps\"},\n    {\"op\": \"AND\", \"f\": \"dct_title_s\", \"q\": \"Island\"},\n    {\"op\": \"NOT\", \"f\": \"dct_title_s\", \"q\": \"antarctica\"}\n]\n\nparams = {\n    'q': '',\n    'adv_q': json.dumps(adv_query),\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example <p>Search Parameters</p> Parameter Type Description <code>q</code> string Full\u2011text query (default <code>*:*</code>). <code>fq</code> object Active facet include filters (same as include_filters) <code>search_field</code> string (CSV) Search field (all_fields [default], etc.) <code>page</code> integer Current page of results <code>per_page</code> integer Number of results to return <code>sort</code> string Sort option (relevance, year_desc, year_asc, title_asc, title_desc) <code>format</code> string Format option (JSON [default], JSONP) <code>callback</code> string JSONP callback name <code>fields</code> string (CSV) List of fields to return <code>facets</code> string (CSV) List of facets to return <code>include_filters</code> object Active facet include filters (same as fq) <code>exclude_filters</code> object Active facet exclude filters <code>meta</code> boolean Include META (default true) <code>adv_q</code> string JSON array of advanced query clauses. Example: <code>{'op': 'AND|OR|NOT', 'f': 'dct_title_s', 'q': 'Iowa'}</code>"},{"location":"specification/endpoints/#search-facet-pagination","title":"Search Facet Pagination","text":"Method Path Notes GET <code>/search/facets/{facet_name}</code> Get paginated, sortable facet values for a specific facet field within a search resultset."},{"location":"specification/endpoints/#interactive-example-search-facet-pagination","title":"Interactive Example: Search Facet Pagination","text":"Facet Pagination Search <p>Goal: Get paginated facet values for the resource class facet.</p> <p>Request: <code>GET /api/v1/search/facets/gbl_resourceClass_sm</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get paginated facet values for resource class\nfacet_name = \"gbl_resourceClass_sm\"\nparams = {\n    'page': 1,\n    'per_page': 10,\n    'sort': 'count_desc'\n}\n\nresponse = requests.get(f\"{BASE_URL}/search/facets/{facet_name}\", params=params)\ndata = response.json()\n\nprint(f\"Facet: {facet_name}\")\nprint(f\"Total values: {data.get('meta', {}).get('total', 0)}\")\nprint(f\"Page: {data.get('meta', {}).get('page', 1)}\")\n\nfor item in data.get('data', []):\n    value = item.get('value', 'N/A')\n    count = item.get('count', 0)\n    print(f\"  {value}: {count}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example <p>Parameters</p> Name Type Req? Description <code>facet_name</code> string \u2714\ufe0f Facet field name (e.g., <code>gbl_resourceClass_sm</code>) <code>q</code> string Search query to filter resultset <code>page</code> integer Page number (minimum: 1, default: 1) <code>per_page</code> integer Facet values per page (1-100, default: 10) <code>sort</code> string Sort option: <code>count_desc</code>, <code>count_asc</code>, <code>alpha_asc</code>, <code>alpha_desc</code> (default: <code>count_desc</code>) <code>q_facet</code> string Search query to filter facet values <code>adv_q</code> string JSON array of advanced query clauses. Each clause: <code>{'op': 'AND\\|OR\\|NOT', 'f': 'dct_title_s', 'q': 'Iowa'}</code>"},{"location":"specification/endpoints/#search-autosuggestions","title":"Search Autosuggestions","text":"Method Path Notes GET <code>/suggest</code> Get search suggestions."},{"location":"specification/endpoints/#interactive-example-search-autosuggestions","title":"Interactive Example: Search Autosuggestions","text":"Search Autosuggestions Search <p>Goal: Get search suggestions for \"Minn\".</p> <p>Request: <code>GET /api/v1/suggest?q=Minn</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get search suggestions\nparams = {\n    'q': 'Minn'\n}\n\nresponse = requests.get(f\"{BASE_URL}/suggest\", params=params)\ndata = response.json()\n\nprint(f\"Suggestions for 'Minn':\")\nfor suggestion in data.get('suggestions', []):\n    print(f\"  - {suggestion}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example <p>Parameters</p> Name Type Req? Description <code>q</code> string \u2714\ufe0f Search query for suggestions <code>callback</code> string JSONP callback name"},{"location":"specification/endpoints/#resource-endpoint","title":"Resource Endpoint","text":"Method Path Notes GET <code>/resources/{id}</code> Returns a single Aardvark record, wrapped in JSON:API frontmatter."},{"location":"specification/endpoints/#interactive-example-obtain-a-resource","title":"Interactive Example: Obtain a Resource","text":"Obtain a Resource Resource <p>Goal: Fetch metadata for a specific resource ID.</p> <p>Request: <code>GET /api/v1/resources/ark28722-s7vs38</code></p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 2: Fetch a specific resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}\")\ndata = response.json()\n\nattrs = data['data']['attributes']\nprint(f\"Title: {attrs.get('dct_title_s', 'N/A')}\")\nprint(f\"Description: {attrs.get('dct_description_sm', ['N/A'])[0]}\")\n\n# Show references\nif 'dct_references_s' in attrs:\n    refs = json.loads(attrs['dct_references_s'])\n    for key, value in refs.items():\n        print(f\"{key}: {value}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example <p>Parameters</p> Name Type Req? Description <code>id</code> string \u2714\ufe0f Canonical record ID <code>fields</code> string (CSV) Subset of fields to include"},{"location":"specification/endpoints/#resource-helper-endpoints","title":"Resource Helper Endpoints","text":"List Resources List Resources Resource <p>Goal: Get a list of Aardvark records.</p> <p>Request: <code>GET /api/v1/resources/</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# List resources\nresponse = requests.get(f\"{BASE_URL}/resources/\")\ndata = response.json()\n\nprint(f\"Total resources: {data.get('meta', {}).get('total', 0)}\")\nprint(f\"Page: {data.get('meta', {}).get('page', 1)}\")\nprint(f\"Per page: {data.get('meta', {}).get('per_page', 10)}\")\n\n# Show first few resources\nfor item in data.get('data', [])[:5]:\n    attrs = item.get('attributes', {})\n    print(f\"\\nID: {item.get('id')}\")\n    print(f\"Title: {attrs.get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Citation Resource Citation Resource <p>Goal: Get citation information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/citation</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get citation for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/citation\")\ndata = response.json()\n\nprint(f\"Citation for resource: {resource_id}\")\nprint(f\"Citation: {data.get('citation', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Distributions Resource Distributions Resource <p>Goal: Get distribution information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/distributions</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get distributions for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/distributions\")\ndata = response.json()\n\nprint(f\"Distributions for resource: {resource_id}\")\nfor dist in data.get('data', []):\n    attrs = dist.get('attributes', {})\n    print(f\"Type: {attrs.get('dcat_distribution_type_s', 'N/A')}\")\n    print(f\"URL: {attrs.get('dcat_access_url_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Downloads Resource Downloads Resource <p>Goal: Get download information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/downloads</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get downloads for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/downloads\")\ndata = response.json()\n\nprint(f\"Downloads for resource: {resource_id}\")\nfor download in data.get('downloads', []):\n    print(f\"Label: {download.get('label', 'N/A')}\")\n    print(f\"Type: {download.get('type', 'N/A')}\")\n    print(f\"Format: {download.get('format', 'N/A')}\")\n    print(f\"URL: {download.get('url', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Links Resource Links Resource <p>Goal: Get link information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/links</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get links for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/links\")\ndata = response.json()\n\nprint(f\"Links for resource: {resource_id}\")\nfor category, links in data.items():\n    print(f\"\\n{category}:\")\n    for link in links:\n        print(f\"  Label: {link.get('label', 'N/A')}\")\n        print(f\"  URL: {link.get('url', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Metadata Retrieval Resource Metadata Retrieval Resource <p>Goal: Get raw Aardvark metadata for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/metadata</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get raw metadata for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/metadata\")\ndata = response.json()\n\nprint(f\"Raw metadata for resource: {resource_id}\")\nprint(f\"Title: {data.get('dct_title_s', 'N/A')}\")\nprint(f\"Description: {data.get('dct_description_sm', ['N/A'])[0] if isinstance(data.get('dct_description_sm'), list) else 'N/A'}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 OGM Viewer Retrieval Resource OGM Viewer Retrieval Resource <p>Goal: Get the Aardvark record as HTML presented in the OGM Viewer.</p> <p>Request: <code>GET /api/v1/resources/{id}/ogm-viewer</code></p> Python HTML             Response Output \ud83d\udccb Copy <pre><code>import requests\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get OGM Viewer HTML for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/ogm-viewer\")\n\nif response.status_code == 200:\n    html_content = response.text\n    print(f\"\u2705 OGM Viewer HTML for resource: {resource_id}\")\n    print(f\"Content-Type: {response.headers.get('Content-Type', 'N/A')}\")\n    print(f\"HTML length: {len(html_content)} characters\")\n    print(f\"\\nFirst 500 characters of HTML:\")\n    print(html_content[:500])\nelse:\n    print(f\"\u274c Error: {response.status_code}\")</code></pre> \ud83d\udccb Copy <p>Click \"Run\" to see the HTML response...</p> <pre><code></code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Relationships Resource Relationships Resource <p>Goal: Get relationship information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/relationships</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get relationships for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/relationships\")\ndata = response.json()\n\nprint(f\"Relationships for resource: {resource_id}\")\nfor rel in data.get('data', []):\n    attrs = rel.get('attributes', {})\n    print(f\"Type: {attrs.get('relationship_type', 'N/A')}\")\n    print(f\"Related ID: {attrs.get('related_resource_id', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Similar Items Resource Similar Items Resource <p>Goal: Get similar items for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/similar-items</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get similar items for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/similar-items\")\ndata = response.json()\n\nprint(f\"Similar items for resource: {resource_id}\")\nfor item in data.get('similar_items', [])[:5]:\n    print(f\"ID: {item.get('id', 'N/A')}\")\n    print(f\"Title: {item.get('title', 'N/A')}\")\n    temporal = item.get('temporal_coverage', [])\n    if temporal:\n        print(f\"Temporal Coverage: {', '.join(temporal)}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Spatial Facets Resource Spatial Facets Resource <p>Goal: Get spatial facet information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/spatial-facets</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get spatial facets for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/spatial-facets\")\ndata = response.json()\n\nprint(f\"Spatial facets for resource: {resource_id}\")\nspatial_facets = data.get('spatial_facets', {})\nif spatial_facets:\n    if 'dcat_bbox' in spatial_facets:\n        print(f\"Bounding Box: {spatial_facets['dcat_bbox']}\")\n    if 'geo.country' in spatial_facets:\n        country = spatial_facets['geo.country']\n        print(f\"Country: {country.get('name', 'N/A')}\")\n    if 'geo.region' in spatial_facets:\n        regions = spatial_facets['geo.region']\n        print(f\"Regions: {', '.join([r.get('name', '') for r in regions])}\")\n    if 'geo.county' in spatial_facets:\n        counties = spatial_facets['geo.county']\n        print(f\"Counties: {', '.join([c.get('name', '') for c in counties])}\")\nelse:\n    print(\"No spatial facets found.\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Static Map Resource Static Map Resource <p>Goal: Get static map image for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/static-map</code></p> Python Image             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport base64\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get static map image for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/static-map\")\n\nif response.status_code == 200:\n    # Save the image\n    with open('static_map.png', 'wb') as f:\n        f.write(response.content)\n    print(f\"\u2705 Static map image saved for resource: {resource_id}\")\n    print(f\"Content-Type: {response.headers.get('Content-Type', 'N/A')}\")\n    print(f\"Image size: {len(response.content)} bytes\")\nelse:\n    print(f\"\u274c Error: {response.status_code}\")</code></pre> <p>Click \"Run\" to see the image response...</p> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Thumbnail Resource Thumbnail Resource <p>Goal: Get thumbnail information for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/thumbnail</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get thumbnail for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/thumbnail\")\ndata = response.json()\n\nprint(f\"Thumbnail for resource: {resource_id}\")\nprint(f\"Thumbnail URL: {data.get('thumbnail_url', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Resource \u2014 Viewer Data Resource Viewer Data Resource <p>Goal: Get viewer data for a resource.</p> <p>Request: <code>GET /api/v1/resources/{id}/viewer</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Get viewer data for a resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}/viewer\")\ndata = response.json()\n\nprint(f\"Viewer data for resource: {resource_id}\")\nprint(f\"Viewer type: {data.get('viewer_type', 'N/A')}\")\nprint(f\"Viewer URL: {data.get('viewer_url', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example"},{"location":"specification/error_handling/","title":"Error Handling","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Errors MUST return a JSON object with <code>type</code>, <code>title</code>, <code>status</code>, and <code>detail</code> properties.</p> <pre><code>{\n  \"type\": \"https://opengeometadata.org/api/errors/RateLimitExceeded\",\n  \"title\": \"Rate limit exceeded\",\n  \"status\": 429,\n  \"detail\": \"Allowed 1000 requests per minute; received 1423.\"\n}\n</code></pre> HTTP Status Meaning 400 Bad request / parameter validation error 401 Missing or invalid API key 404 Record or endpoint not found 429 Rate limit exceeded 500 Internal server error"},{"location":"specification/metadata/","title":"Metadata","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"specification/metadata/#ogm-aardvark","title":"OGM Aardvark","text":"<p>OGM Aardvark (https://opengeometadata.org/ogm-aardvark) is a lightweight metadata profile for geospatial discovery. Every resource is a single JSON object that MUST include the following required properties:</p> Field Type Description <code>id</code> string Stable identifier (slug or UUID). <code>dct_title_s</code> string Human\u2011readable title. <code>dct_accessRights_s</code> string Only one of two values are allowed: Public or Restricted. <code>gbl_resourceClass_sm</code> array of strings Provides a top level set of categories for classifying the resource. <code>gbl_mdModified_dt</code> string (date\u2011time) Last modified timestamp. <code>gbl_mdVersion_s</code> string MUST be <code>Aardvark</code>. Full OGM Aardvark Schema Definition"},{"location":"specification/metadata/#btaa-geospatial-metadata-profile","title":"BTAA Geospatial Metadata Profile","text":"<p>Every resource MUST include the following required BTAA properties:</p> Field Type Description <code>b1g_dct_accrualMethod_s</code> string To describe how the record was obtained. <code>b1g_dateAccessioned_s</code> string To store the date a record was harvested. <code>b1g_publication_state_s</code> string To communicate if the resource is public or hidden. Full BTAA Extension Schema Definition"},{"location":"specification/metadata/#ogmbtaa-geospatial","title":"OGM+BTAA Geospatial","text":"<p>Combined OGM+BTAA Geospatial required attributes:</p> Field Type Description <code>id</code> string Stable identifier (slug or UUID). <code>dct_title_s</code> string Human\u2011readable title. <code>dct_accessRights_s</code> string Only one of two values are allowed: Public or Restricted. <code>gbl_resourceClass_sm</code> array of strings Provides a top level set of categories for classifying the resource. <code>gbl_mdModified_dt</code> string (date\u2011time) Last modified timestamp. <code>gbl_mdVersion_s</code> string MUST be <code>Aardvark</code>. <code>b1g_dct_accrualMethod_s</code> string To describe how the record was obtained. <code>b1g_dateAccessioned_s</code> string To store the date a record was harvested. <code>b1g_publication_state_s</code> string To communicate if the resource is public or hidden. <p>The obligation for all other fields defined in the canonical Aardvark schema is MAY.</p>"},{"location":"specification/metadata/#json-schema","title":"JSON Schema","text":"<p>JSON Schema file for OGM resources is maintained at: https://opengeometadata.org/schema/geoblacklight-schema-aardvark.json</p>"},{"location":"specification/metadata/#json-ld-context","title":"JSON-LD Context","text":"<p>JSON-LD context for OGM+BTAA Aardvark records: DRAFT PR</p>"},{"location":"specification/metadata/#csv","title":"CSV","text":"<p>OGM+BTAA Geospatial also has a tabular CSV expression with an Open Knowledge Foundation &gt; Frictionless Data &gt; Table Schema schema definition. Unlike OGM+BTAA Geospatial Aardvark JSON, OGM+BTAA Geospatial Aardvark CSV is comprised of two files:</p> <ol> <li>Primary \u2014\u00a0The primary Aardvark metadata elements (primary.csv)  </li> <li>Distributions \u2014 The dct_reference_s elements (distributions.csv)</li> </ol>"},{"location":"specification/metadata/#table-schema","title":"Table Schema","text":""},{"location":"specification/metadata/#csv-file-examples","title":"CSV File Examples","text":"<p>These example CSV files use the GeoBlacklight fixture set.</p> <ul> <li>Primary \u2014 gbl_fixtures_primary.csv </li> <li>Distributions \u2014 gbl_fixtures_distributions.csv</li> </ul>"},{"location":"specification/metadata/#table-schema-files","title":"Table Schema Files","text":"<p>These files can be used to validate the CSV examples against our CSV schema.</p> <ul> <li>Primary \u2014 ogm_aardvark_primary.schema.json </li> <li>Distributions \u2014 ogm_aardvark_distributions.schema.json</li> </ul>"},{"location":"specification/metadata/#todos","title":"TODOs","text":"<ul> <li>JSON Schema for OGM+BTAA Geospatial</li> <li>JSON-LD Contexts</li> <li>Create BTAA CSV examples</li> <li>Create BTAA schema files  </li> </ul>"},{"location":"specification/model_context_protocol/","title":"Model Context Protocol (MCP)","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>The BTAA Geospatial API supports Model Context Protocol (MCP), a formal specification for declaring the processing and behavioral context of an API response. MCP enables generic clients, validators, and AI agents to understand how to interpret metadata records and response payloads in a consistent, machine-readable way.</p>"},{"location":"specification/model_context_protocol/#usage","title":"Usage","text":"<p><code>GET /api/v1/mcp</code></p> <pre><code>{\n  \"name\": \"btaa-geospatial-api\",\n  \"version\": \"0.1.1\",\n  \"description\": \"BTAA Geospatial API MCP Service\",\n  \"protocol\": \"mcp\",\n  \"transports\": [\n    \"stdio\",\n    \"websocket\"\n  ],\n  \"capabilities\": {\n    \"tools\": [\n      \"search_resources\",\n      \"get_resource\",\n      \"get_resource_ogm\",\n      \"list_resources\",\n      \"get_suggestions\",\n      \"get_resource_viewer\"\n    ]\n  },\n  \"connections\": {\n    \"stdio\": {\n      \"type\": \"stdio\",\n      \"command\": \"python\",\n      \"args\": [\n        \"-m\",\n        \"app.services.mcp_service\"\n      ]\n    },\n    \"websocket\": {\n      \"type\": \"websocket\",\n      \"url\": \"/api/v1/mcp/ws\"\n    }\n  },\n  \"documentation\": {\n    \"tools\": {\n      \"search_resources\": \"Search for geospatial resources using text queries, filters, and sorting options\",\n      \"get_resource\": \"Get a single geospatial resource by ID with full metadata and UI enhancements\",\n      \"get_resource_ogm\": \"Get just the OpenGeoMetadata Aardvark record for a resource by ID\",\n      \"list_resources\": \"List all geospatial resources with pagination\",\n      \"get_suggestions\": \"Get search suggestions for autocomplete\",\n      \"get_resource_viewer\": \"Get an HTML page with the embedded OGM viewer for a specific resource\"\n    }\n  }\n}\n</code></pre>"},{"location":"specification/model_context_protocol/#profile-uris","title":"Profile URIs","text":"<p>Each URI in the profile array MUST resolve to a valid MCP document, which includes:</p> <ul> <li>@context: MUST include the MCP context (https://modelcontextprotocol.io/context/v1.jsonld)  </li> <li>@type: SHOULD be ModelContextProfile  </li> <li>title, description, appliesTo: for human/machine interpretation  </li> <li>features: optional keys describing supported behaviors, fields, or UI expectations</li> </ul>"},{"location":"specification/model_context_protocol/#example-mcp-profile-abridged","title":"Example MCP Profile (abridged)","text":"<pre><code>{\n  \"@context\": \"https://modelcontextprotocol.io/context/v1.jsonld\",\n  \"@type\": \"ModelContextProfile\",\n  \"id\": \"https://opengeometadata.org/profile/mcp/search\",\n  \"title\": \"OGM Search Results Profile\",\n  \"description\": \"Describes the structure and interpretation of search results.\",\n  \"appliesTo\": \"https://opengeometadata.org/api/v1/search\",\n  \"features\": {\n    \"search\": {\n      \"supportsGeoFilters\": true,\n      \"maxResults\": 1000,\n      \"defaultSort\": \"relevance\"\n    },\n    \"ui\": {\n      \"viewer\": true,\n      \"facets\": true,\n      \"pagination\": true\n    }\n  }\n}\n</code></pre>"},{"location":"specification/model_context_protocol/#benefits","title":"Benefits","text":"<ul> <li>Allows automated agents to reason about what\u2019s returned  </li> <li>Enables consistent UI rendering and schema interpretation  </li> <li>Provides potential future extensibility without API versioning</li> </ul>"},{"location":"specification/model_context_protocol/#todos","title":"TODOs","text":"<ul> <li>BTAA Examples instead of OGM Examples</li> </ul>"},{"location":"specification/parameters/","title":"Parameter Reference","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> Parameter Type Description <code>q</code> string Full\u2011text query (default <code>*:*</code>). <code>fq</code> object Active facet include filters (same as include_filters) <code>search_field</code> string (CSV) Search field (all_fields [default], etc.) <code>page</code> integer Current page of results <code>per_page</code> integer Number of results to return <code>sort</code> string Sort option (relevance, year_desc, year_asc, title_asc, title_desc) <code>format</code> string Format option (JSON [default], JSONP) <code>callback</code> string JSONP callback name <code>fields</code> string (CSV) List of fields to return <code>facets</code> string (CSV) List of facets to return <code>include_filters</code> object Active facet include filters (same as fq) <code>exclude_filters</code> object Active facet exclude filters <code>meta</code> boolean Include META (default true) <code>adv_q</code> string JSON array of advanced query clauses. Example: <code>{'op': 'AND|OR|NOT', 'f': 'dct_title_s', 'q': 'Iowa'}</code>"},{"location":"specification/protocol/","title":"Protocol &amp; Versioning","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <ul> <li>API Base URI:<ul> <li>Current development base: <code>https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1/</code></li> <li>Projected production base: https://api.geo.btaa.org</li> </ul> </li> <li>Content types:  <ul> <li><code>application/json</code> (default)  </li> <li><code>application/ld+json</code> (when <code>Accept</code> header includes JSON\u2011LD)  </li> <li><code>text/csv</code> (when <code>Accept</code> header includes CSV)  </li> </ul> </li> <li>HTTP 1.1 or HTTP/2 over TLS 1.2+</li> <li>Minor revisions to this spec will increment the patch version (e.g., <code>1.0.1</code>) and MUST NOT introduce breaking changes.</li> </ul>"},{"location":"specification/rate_limiting/","title":"Rate Limiting Recommendations","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <p>Servers MUST protect shared resources. The following sane defaults are RECOMMENDED and MAY be adjusted per deployment:</p> <ul> <li>Burst: 100 requests in any 10\u2011second window  </li> <li>Sustained: 1,\u202f000 requests per minute  </li> <li>Daily Cap: 100,000 requests per 24 hours</li> </ul> <p>Implementations on very small servers MAY reduce the burst limit to 50 requests per 10\u2011second window and the sustained limit to 500 requests per minute if monitoring indicates strain.</p> <p>The server SHOULD convey limits using [RFC 6585] <code>429 Too Many Requests</code> and the headers:</p> <p>RateLimit-Limit: 1000 RateLimit-Remaining: 253 RateLimit-Reset: 42</p>"},{"location":"specification/rate_limiting/#todos","title":"TODOs","text":"<ul> <li>Implement Rate Limiting in API</li> </ul>"},{"location":"specification/response_objects/","title":"Response Objects","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"specification/response_objects/#meta-block","title":"META block","text":"<p>The META block MAY contain these potential user interface component entries (see 8.5):</p> Feature Key(s) Description Example Value(s) Citation citation Generic citation format. String. {\"citation\": \"[Creator not found], (1932). A food map of the United States. https://quod.lib.umich.edu/c/clark1ic/x-003289100/39015091916158 (pictorial map).\"} Data Dictionary dictionary CSV <code>document_data_dictionary_id,friendlier_id,field_name,field_type,values,definition,definition_source,parent_field_name,position</code> Downloads downloads Convenience presentation of dct_references_s\u2019 downloads. Array of objects. {\"downloads\": [{\"label\": \"Download Shapefile\", \"url\": \"https://stacks.stanford.edu/object/cf162mm8787\"}]} Metadata metadata Convenience presentation of dct_references_s\u2019 metadata entries. Array of objects. {\"metadata\": [{\"label\": \"ISO 19139\", \"url\": \"https://web.s3.wisc.edu/rml-gisdata/metadata/Bayfield_Trails_2020.xml\"}]} Relationships relationships Convenience presentation of OGM Aardvark relationship fields. Nested Objects. {\"relationships\": { \"member_of\": { \"links\": { \"related\":     \".../resource/b0153110-e455-4ced-9114-9b13250a7093\" }, \"data\": [{ \"type\": \"resource\", \"id\": \"b0153110-e455-4ced-9114-9b13250a7093\"}]}} Viewer viewer: protocol endpoint geometry The viewer key contains all the necessary values to display an npm `@geoblacklight-frontend` package-driven item viewer. Object. {\"viewer\": {\"protocol\": \"iiif_manifest\", \"endpoint\": \"https://quod.lib.umich.edu/cgi/i/image/api/search/clark1ic:003289100\",\u000b\"geometry\": { \"type\":\"Polygon\", \"coordinates\": [[[-124.98,49.31],[-67.18,49.31],[-67.18,22.61],[-124.98,22.61],[-124.98,49.31]]] }}} Thumbnail thumbnail: url alt_text Thumbnail object, including URL and Alt Text entries. Object. {\"thumbnail\": { \"url\":  \"https://quod.lib.umich.edu/cgi/i/image/api/image/clark1ic:003289100:39015091916158/full/400,/0/default.jpg\", \"alt-text\": \"A food map of the United States\"}}"},{"location":"specification/response_objects/#ui-component-support","title":"UI Component Support","text":"<p>A list of the frontend feature components this OGM API can support. </p> <p>See the BTAA proof of concept React UI for an example implementation: https://github.com/geobtaa/rui</p>"},{"location":"specification/response_objects/#search","title":"Search","text":"<ul> <li>Autocomplete  </li> <li>Search  </li> <li>Map Search  </li> <li>Results  </li> <li>Result Thumbnails  </li> <li>Facets  </li> <li>Pagination  </li> <li>Per Page  </li> <li>Sorting  </li> <li>Spelling Suggestions  </li> <li>Constraints</li> </ul>"},{"location":"specification/response_objects/#resource-view","title":"Resource View","text":"<ul> <li>Viewer  </li> <li>Context  </li> <li>Breadcrumb  </li> <li>Sidebar Map  </li> <li>More Like This  </li> <li>Metadata Text  </li> <li>Metadata Links  </li> <li>Citation  </li> <li>Downloads  </li> <li>Relationships</li> </ul>"},{"location":"specification/security/","title":"Security","text":""},{"location":"specification/security/#security-considerations","title":"Security Considerations","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p> <ul> <li> <p>All traffic MUST use HTTPS.</p> </li> <li> <p>API keys MUST be treated as secrets; rotate compromised keys immediately.</p> </li> <li> <p>Servers SHOULD implement audit logging and anomaly detection.</p> </li> </ul>"},{"location":"specification/standards/","title":"Standards, Terminology, Conventions","text":"<p>DRAFT Specification / Work in Progress</p> <p>This portion of the BTAA GIN site, our BTAA Geospatial API, and our linked data offerings are a WORK IN PROGRESS. Please reach out if you have questions or wish to participate in bringing these resources to public release.</p>"},{"location":"specification/standards/#standards","title":"Standards","text":"<ul> <li>OpenAPI / Version v3.1.1 </li> <li>JSON API / Version v1.1 </li> <li>JSON-LD / Version v1.1 </li> <li>Model Context Protocol (MCP) / Version 1.0</li> </ul>"},{"location":"specification/standards/#terminology","title":"Terminology","text":"<ul> <li>Resource \u2013 An individual OpenGeoMetadata Aardvark + BTAA Geospatial Metadata Profile JSON object, document, item, or record.  </li> <li>Service Document \u2013 The JSON description of server capabilities (<code>/v1/service</code>).  </li> <li>Identifier \u2013 The canonical URI\u2011safe string that uniquely identifies a record.  </li> <li>Model Context Protocol (MCP) \u2013 A protocol that enables API responses to declare behavioral context using <code>profile</code> URIs. These profiles point to machine-readable documents describing how to interpret or interact with the resource, especially useful for generic agents, AI tools, or validators.</li> </ul>"},{"location":"specification/standards/#conventions","title":"Conventions","text":"<ul> <li>All date/time values MUST be RFC 3339 (ISO 8601) strings.  </li> <li>All numeric coordinates MUST be WGS\u201184 (EPSG 4326) decimal degrees.</li> </ul>"},{"location":"specification/tutorial/","title":"BTAA Geospatial API Tutorial","text":""},{"location":"specification/tutorial/#welcome","title":"Welcome","text":"<p>Welcome to the BTAA Geoportal API training resource. This site is designed to accompany the 30-minute presentation on how to programmatically access and utilize the geospatial data and metadata from the Big Ten Academic Alliance Geoportal.</p> <p>Here you will find the presentation materials, learning objectives, and a comprehensive set of Python code examples to get you started.</p> <p>Start Presentation</p>"},{"location":"specification/tutorial/#learning-objectives","title":"Learning Objectives","text":"<p>By exploring this guide, you will be able to:</p> <ul> <li>Understand the API Architecture: Explain the basic structure of the BTAA Geoportal API and its JSON:API compliance.</li> <li>Construct Effective Queries: Formulate API requests to search for resources using keywords, filters, and facets.</li> <li>Interpret Responses: Parse JSON responses to extract key metadata, download links, and geospatial information.</li> <li>Navigate Pagination: Efficiently retrieve large sets of results using pagination parameters.</li> <li>Access Specific Resources: Retrieve detailed metadata for individual items using their unique identifiers.</li> </ul>"},{"location":"specification/tutorial/#quick-links","title":"Quick Links","text":""},{"location":"specification/tutorial/#api-development-server","title":"API Development Server","text":"<ul> <li>Official Swagger Documentation</li> <li>BTAA Geoportal Frontend</li> </ul>"},{"location":"specification/tutorial/examples/","title":"Code Examples","text":"<p> packages = [\"requests\", \"pyodide-http\"] </p> Introduction Search <p>11 Recipes for Success with the BTAA Geoportal API</p> <p>Download the full runnable Python script containing all these examples, or run them directly in your browser below!</p> <p>Download Python Script</p> <p>Use the navigation buttons below or arrow keys to move between examples.</p> Simple Search Search <p>Goal: Find all resources related to \"water\".</p> <p>Request: <code>GET /api/v1/search?q=water</code></p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 1: Text search for 'water'\nparams = {\n    'q': 'water',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Obtain a Resource Resource <p>Goal: Fetch metadata for a specific resource ID.</p> <p>Request: <code>GET /api/v1/resources/ark28722-s7vs38</code></p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 2: Fetch a specific resource\nresource_id = \"ark28722-s7vs38\"\nresponse = requests.get(f\"{BASE_URL}/resources/{resource_id}\")\ndata = response.json()\n\nattrs = data['data']['attributes']\nprint(f\"Title: {attrs.get('dct_title_s', 'N/A')}\")\nprint(f\"Description: {attrs.get('dct_description_sm', ['N/A'])[0]}\")\n\n# Show references\nif 'dct_references_s' in attrs:\n    refs = json.loads(attrs['dct_references_s'])\n    for key, value in refs.items():\n        print(f\"{key}: {value}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Boolean Search Advanced Search <p>Goal: Search for \"(water AND ice) NOT Forest\".</p> <p>Request: <code>GET /api/v1/search?q=(water AND ice) NOT Forest</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 3: Boolean search\nparams = {\n    'q': '(water AND ice) NOT Forest',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Field-Directed Search Advanced Search <p>Goal: Search for \"Transportation\" specifically in the Subject field.</p> <p>Request: <code>GET /api/v1/search?q=Transportation&amp;search_field=dct_subject_sm</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 4: Field-directed search\nparams = {\n    'q': 'Transportation',\n    'search_field': 'dct_subject_sm',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total number of resources found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Faceted Search Facets <p>Goal: Search for \"seattle\" and filter for \"Maps\".</p> <p>Request: <code>GET /api/v1/search?q=seattle&amp;include_filters[gbl_resourceClass_sm][]=Maps</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 5: Faceted search (Maps only)\nparams = {\n    'q': 'seattle',\n    'include_filters[gbl_resourceClass_sm][]': 'Maps',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Maps Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Faceted Search (Includes) Facets <p>Goal: Search for \"seattle\", filter for \"Maps\" AND \"Washington\".</p> <p>Request: <code>GET /api/v1/search?q=seattle&amp;include_filters...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 6: Faceted search (Maps + Washington)\nparams = {\n    'q': 'seattle',\n    'include_filters[gbl_resourceClass_sm][]': 'Maps',\n    'include_filters[dct_spatial_sm][]': 'Washington',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Faceted Search (Excludes) Facets <p>Goal: Search for \"seattle\", filter for \"Maps\", \"Washington\", but EXCLUDE         \"Pennsylvania State University\".</p> <p>Request: <code>GET /api/v1/search?q=seattle&amp;exclude_filters...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 7: Faceted search (Maps + Washington - PSU)\nparams = {\n    'q': 'seattle',\n    'include_filters[gbl_resourceClass_sm][]': 'Maps',\n    'include_filters[dct_spatial_sm][]': 'Washington',\n    'exclude_filters[schema_provider_s][]': 'Pennsylvania State University',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search (BBox) Spatial <p>Goal: Find maps within the Minnesota bounding box.</p> <p>Request: <code>GET /api/v1/search?q=maps&amp;include_filters[geo][type]=bbox...</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 8: Bounding Box Search (Minnesota)\nparams = {\n    'q': 'maps',\n    'include_filters[geo][type]': 'bbox',\n    'include_filters[geo][field]': 'dcat_bbox',\n    'include_filters[geo][top_left][lat]': '49.0',\n    'include_filters[geo][top_left][lon]': '-97.2',\n    'include_filters[geo][bottom_right][lat]': '43.5',\n    'include_filters[geo][bottom_right][lon]': '-89.5',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search (Distance) Spatial <p>Goal: Find \"parks\" resources within 50km of Minneapolis.</p> <p>Request: <code>GET /api/v1/search?q=parks&amp;include_filters[geo][type]=distance...</code> </p> Python API                             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 9: Distance Search (50km from Minneapolis)\nparams = {\n    'q': 'parks',\n    'include_filters[geo][type]': 'distance',\n    'include_filters[geo][field]': 'dcat_centroid',\n    'include_filters[geo][center][lat]': '44.9778',\n    'include_filters[geo][center][lon]': '-93.2650',\n    'include_filters[geo][distance]': '50km',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Spatial Search (Polygon) Spatial <p>Goal: Find \"water\" resources intersecting with Colorado state boundaries.</p> <p>Request: <code>GET /api/v1/search?q=water&amp;include_filters[geo][type]=polygon...</code> </p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 10: Polygon Search (Colorado)\nparams = {\n    'q': 'water',\n    'include_filters[geo][type]': 'polygon',\n    'include_filters[geo][field]': 'locn_geometry',\n    'include_filters[geo][relation]': 'intersects',\n    'include_filters[geo][points][0][lat]': '41.0',\n    'include_filters[geo][points][0][lon]': '-109.0',\n    'include_filters[geo][points][1][lat]': '41.0',\n    'include_filters[geo][points][1][lon]': '-102.0',\n    'include_filters[geo][points][2][lat]': '37.0',\n    'include_filters[geo][points][2][lon]': '-102.0',\n    'include_filters[geo][points][3][lat]': '37.0',\n    'include_filters[geo][points][3][lon]': '-109.0',\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example Advanced Search (adv_q) Advanced <p>Goal: Find \"Maps\" having \"Island\" in title but NOT \"Antarctica\".</p> <p>Request: <code>GET /api/v1/search?q=&amp;adv_q=...</code></p> Python API             Response Output \ud83d\udccb Copy <pre><code>import requests\nimport json\n\nBASE_URL = \"https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1\"\n\n# Step 11: Advanced Search with adv_q\n# Logic: (ResourceClass=Maps AND Title=Island) NOT Title=Antarctica\nadv_query = [\n    {\"op\": \"AND\", \"f\": \"gbl_resourceClass_sm\", \"q\": \"Maps\"},\n    {\"op\": \"AND\", \"f\": \"dct_title_s\", \"q\": \"Island\"},\n    {\"op\": \"NOT\", \"f\": \"dct_title_s\", \"q\": \"antarctica\"}\n]\n\nparams = {\n    'q': '',\n    'adv_q': json.dumps(adv_query),\n    'page': 1,\n    'per_page': 10\n}\n\nresponse = requests.get(f\"{BASE_URL}/search\", params=params)\ndata = response.json()\n\nprint(f\"Total Found: {data.get('meta', {}).get('totalCount')}\")\n\nprint(\"\\nList of titles:\")\nfor item in data.get('data', []):\n    print(f\"  - {item['attributes'].get('dct_title_s', 'N/A')}\")</code></pre> \ud83d\udccb Copy <pre><code>Click \"Run\" to see the API response...</code></pre> \ud83d\udccb Copy Click \"Run\" to see the output... \u25b6 Run Example \u2190 Previous Slide 1 of 3 Next \u2192 \ud821\uddd6"},{"location":"specification/tutorial/presentation/","title":"Presentation","text":"1. Introduction What is the BTAA Geoportal API? <p>The API powers the BTAA Geoportal frontend and provides external access to our digital collection of             geospatial resources. It allows for automation, integration into GIS software (like QGIS), and bulk             data             analysis.</p> Core Concepts <ul> <li>RESTful Design: Standard HTTP methods (GET).</li> <li>JSON:API Standard: Responses are structured with <code>data</code>,                 <code>attributes</code>, <code>meta</code>, and <code>links</code>.             </li> <li>Base URL: <code>https://lib-btaageoapi-dev-app-01.oit.umn.edu/api/v1/</code> </li> </ul> 2. The Search Endpoint <p>The primary entry point for discovery is <code>/search</code>.</p> Key Parameters <ul> <li><code>q</code>: The main keyword search parameter (e.g., <code>?q=seattle</code>).</li> <li><code>include_filters</code>: Target specific fields (e.g.,                 <code>include_filters[gbl_resourceClass_sm][]=Maps</code>).             </li> <li><code>page</code> &amp; <code>per_page</code>: Control pagination.</li> <li><code>sort</code>: Order results (e.g., <code>year_asc</code>, <code>relevance</code>).</li> </ul> 3. Anatomy of a Response <p>The API follows the JSON:API specification. Here is a breakdown of the key top-level sections you             will             see in a search response:</p> jsonapi <p>This object describes the version of the JSON:API specification the server implements. It ensures             clients             know how to parse the document structure reliably.</p> links <p>These are your navigation aids. They provide pre-built URLs for:</p> <ul> <li><code>self</code>: The current request.</li> <li><code>next</code> / <code>prev</code>: Pagination links to traverse the result set.</li> <li><code>first</code> / <code>last</code>: Jumping to the beginning or end of results.</li> </ul> meta <p>This section contains high-level metadata about your query, such as:</p> <ul> <li><code>totalCount</code>: The total number of matching records.</li> <li><code>pages</code>: Total pages available.</li> </ul> data <p>The core array of resource objects. Each item contains:</p> <ul> <li>attributes: The metadata record following the OpenGeoMetadata                     Aardvark                 schema.</li> <li>meta: Additional UI helpers, such as thumbnail URLs and generated citations.             </li> </ul> included <p>This section contains \"side-loaded\" data. In our search context, this is where             facets             and aggregations live (e.g., counts of maps by provider or year).         </p> 4. The Resource Endpoint <p>To get full details on a single item, use <code>/resources/{id}</code>.</p> Anatomy of a Resource <pre><code>{\n  \"data\": {\n    \"type\": \"resource\",\n    \"id\": \"p16022coll205:660\",\n    \"attributes\": {\n      \"dct_title_s\": \"Guide map of Seattle\",\n      \"dct_issued_s\": \"1924\",\n      \"locn_geometry\": \"POLYGON((-122...))\",\n      \"dct_references_s\": \"{...}\" \n    }\n  }\n}</code></pre> <p>Tip: The <code>dct_references_s</code> attribute contains critical links to             downloads             and IIIF manifests.</p> 5. Practical Application <p>We have prepared 11 practical \"recipes\" or examples to demonstrate common tasks, from basic searching             to             extracting IIIF manifests for map viewers.</p> View Code Examples \u2190 Previous Slide 1 of 5 Next \u2192 \ud821\uddd6"},{"location":"v1/ld/schemas/","title":"JSON Schemas","text":"<p>This directory contains JSON Schema definitions for validating linked data structures in the BTAA Geospatial repository.</p>"},{"location":"v1/ld/schemas/#available-schemas","title":"Available Schemas","text":""},{"location":"v1/ld/schemas/#btaa-geospatial-ogm-aardvark-resource-record-resourcejson","title":"BTAA Geospatial OGM Aardvark Resource Record (<code>resource.json</code>)","text":"<p>Validates OpenGeoMetadata Aardvark schema fields with BTAA Geospatial custom elements for geospatial resource records.</p> <p>Required fields:</p> <ul> <li><code>id</code> - Resource identifier</li> <li><code>gbl_mdVersion_s</code> - Metadata version (must be \"Aardvark\")</li> <li><code>schema_provider_s</code> - Schema provider</li> <li><code>dct_title_s</code> - Resource title</li> <li><code>dct_description_sm</code> - Resource descriptions</li> <li><code>dct_language_sm</code> - Languages</li> <li><code>dct_accessRights_s</code> - Access rights (\"Public\" or \"Restricted\")</li> <li><code>b1g_dct_accrualMethod_s</code> - Accrual method</li> <li><code>b1g_dateAccessioned_s</code> - Accession date</li> <li><code>b1g_publication_state_s</code> - Publication state</li> </ul> <p>Key features:</p> <ul> <li>OpenGeoMetadata Aardvark compliance</li> <li>BTAA Geospatial B1G custom extensions</li> <li>Dublin Core metadata validation</li> <li>Spatial and temporal coverage validation</li> <li>Access rights and licensing validation</li> <li>Provenance and administrative metadata</li> </ul>"},{"location":"v1/ld/schemas/#usage","title":"Usage","text":""},{"location":"v1/ld/schemas/#validation-with-python","title":"Validation with Python","text":"<pre><code>import json\nfrom jsonschema import validate, ValidationError\n\n# Load schema\nwith open('schemas/resource.json') as f:\n    schema = json.load(f)\n\n# Load data to validate\nwith open('data/resource.json') as f:\n    data = json.load(f)\n\n# Validate\ntry:\n    validate(instance=data, schema=schema)\n    print(\"\u2713 Data is valid\")\nexcept ValidationError as e:\n    print(f\"\u2717 Validation error: {e.message}\")\n</code></pre>"},{"location":"v1/ld/schemas/#validation-with-command-line","title":"Validation with Command Line","text":"<pre><code># Using jsonschema CLI\npip install jsonschema\njsonschema -i data/resource.json schemas/resource.json\n\n# Using our validation script\npython scripts/validate_schema.py --schema schemas/resource.json --data data/resource.json\n</code></pre>"},{"location":"v1/ld/schemas/#integration-with-json-ld","title":"Integration with JSON-LD","text":"<p>These schemas work alongside JSON-LD contexts to provide both structural validation and semantic meaning:</p> <pre><code>{\n  \"id\": \"example-resource-001\",\n  \"gbl_mdVersion_s\": \"Aardvark\",\n  \"schema_provider_s\": \"BTAA Geospatial Information Network\",\n  \"dct_title_s\": \"Midwest Population Density Data\",\n  \"dct_description_sm\": [\"Population density data for the Midwest United States\"],\n  \"dct_language_sm\": [\"en\"],\n  \"dct_accessRights_s\": \"Public\",\n  \"dct_license_sm\": [\"https://creativecommons.org/licenses/by/4.0/\"],\n  \"b1g_code_s\": \"MIDWEST_POP_2020\",\n  \"b1g_dct_accrualMethod_s\": \"manual\",\n  \"b1g_dateAccessioned_s\": \"2024-01-15\",\n  \"b1g_publication_state_s\": \"published\",\n  \"b1g_language_sm\": [\"en\"]\n}\n</code></pre>"},{"location":"v1/ld/schemas/#schema-development","title":"Schema Development","text":""},{"location":"v1/ld/schemas/#creating-new-schemas","title":"Creating New Schemas","text":"<ol> <li>Follow JSON Schema Draft 7 standards</li> <li>Use descriptive <code>$id</code> URIs</li> <li>Include comprehensive descriptions</li> <li>Test with sample data</li> <li>Document all constraints</li> </ol>"},{"location":"v1/ld/schemas/#best-practices","title":"Best Practices","text":"<ul> <li>Reuse existing schemas when possible</li> <li>Use consistent naming conventions</li> <li>Provide clear error messages</li> <li>Test edge cases thoroughly</li> <li>Version schemas appropriately</li> </ul>"},{"location":"v1/ld/schemas/#validation-scripts","title":"Validation Scripts","text":"<p>Use the provided validation scripts in the <code>scripts/</code> directory:</p> <ul> <li><code>validate_schema.py</code> - Validate data against schemas</li> <li><code>validate_context.py</code> - Validate JSON-LD contexts</li> <li><code>validate_vocabulary.py</code> - Validate controlled vocabularies</li> </ul>"},{"location":"v1/ld/schemas/#schema-registry","title":"Schema Registry","text":"<p>All schemas are registered with their canonical URIs:</p> <ul> <li><code>https://gin.btaa.org/ld/schemas/resource.json</code></li> </ul> <p>These URIs can be referenced in <code>$schema</code> fields for IDE support and validation. </p>"}]}